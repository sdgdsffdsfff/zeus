<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>初始化</title>
    <script src="/static/lib/jquery/jquery-2.2.1.min.js"></script>
    <script src="/static/lib/jquery/jquery.cookie.js"></script>

    <script src="/static/lib/bootstrap/js/bootstrap.min.js"></script>
    <script src="/static/lib/angular/angular.js"></script>

    <script src="/static/lib/jquery/jquery.ba-hashchange.js"></script>
    <!--Bootstrap-->
    <link rel="stylesheet" href="/static/lib/bootstrap/css/bootstrap.css">
    <link rel="stylesheet" href="/static/lib/velonic-admin/css/bootstrap-reset.css">


    <!--For diff patch-->
    <script src="/static/lib/diff-match-patch/difflib.js"></script>
    <script src="/static/lib/diff-match-patch/diffview.js"></script>
    <link rel="stylesheet" href="/static/lib/diff-match-patch/diffview.css">
    <link rel="stylesheet" href="/static/lib/font-awesome-4.6.3/css/font-awesome.min.css">

    <!--Animation css-->
    <link rel="stylesheet" href="/static/css/animate.css">
    <link href="/static/lib/velonic-admin/css/animate.css" rel="stylesheet">
    <link href="/static/lib/velonic-admin/assets/ionicon/css/ionicons.min.css" rel="stylesheet"/>

    <!-- Custom styles for this template -->
    <link href="/static/lib/velonic-admin/css/style.css" rel="stylesheet">
    <link href="/static/lib/velonic-admin/css/helper.css" rel="stylesheet">
    <script src="/static/lib/jquery-showloading/jquery.showLoading.js"></script>

    <!--Underscore-->
    <script src="/static/lib/underscore/underscore-min.js"></script>

    <!--<script src="/static/lib/velonic-admin/js/jquery.js"></script>-->
    <script src="/static/lib/velonic-admin/js/modernizr.min.js"></script>
    <script src="/static/lib/velonic-admin/js/pace.min.js"></script>
    <script src="/static/lib/velonic-admin/js/wow.min.js"></script>
    <script src="/static/lib/velonic-admin/js/jquery.app.js"></script>

    <link rel="stylesheet" href="/static/css/global-new.css">
</head>
<body>

<div id="env-id" ng-controller="envController" class="container" ng-cloak>
    <div class="panel panel-default" style="margin: 140px auto 140px;">
        <div class="panel-heading">
            <h4 class="panel-title">
                环境设置
            </h4>
        </div>
        <div class="panel-body">
            <div class="row">
                <label class="col-md-2" style="line-height: 35px">
                    系统数据库连接串:
                </label>
                <div class="col-md-4">
                    <input type="text" ng-model="data.db" class="form-control" id="db"/>
                </div>
            </div>
            <div class="row">
                <label class="col-md-2" style="line-height: 35px">
                    数据库用户:
                </label>
                <div class="col-md-4">
                    <input type="text" ng-model="data.user" class="form-control" id="user"/>
                </div>
            </div>
            <div class="row">
                <label class="col-md-2" style="line-height: 35px">
                    数据库密码:
                </label>
                <div class="col-md-4">
                    <input type="text" ng-model="data.pwd" class="form-control" id="pwd"/>
                </div>
            </div>
            <div class="row">
                <label class="col-md-2" style="line-height: 35px">
                    Api地址设定
                </label>
                <div class="col-md-4">
                    <input type="text" ng-model="data.host" class="form-control" id="api"/>
                </div>
            </div>
            <div class="row" ng-show="showInitDB()">
                <label class="col-md-2" style="line-height: 35px">
                    系统初始化
                </label>
                <div class="col-md-6">
                    <div>
                        <ul style="list-style: decimal; margin-left: -25px">
                            <li>新建数据库表</li>
                            <li>创建系统角色、登录账号等</li>
                            <li>创建SLB启动需要的默认证书</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="row pull-right">
                <button type="button" ng-disabled="!data.host" class="btn btn-info" ng-click="saveSettings()">
                    开始初始化
                </button>
            </div>

            <div id="loading" class="row" style="height: 100px; ">
                <h3 ng-class="statusClass(query.status)">{{query.status}}</h3>
            </div>
        </div>
        <div class="modals">
        </div>
    </div>
</div>
<script src="/static/lib/bootstrap-notify/bootstrap-notify.min.js"></script>
<script src="/static/lib/angular/angular-cookies.js"></script>
<script src="/static/js/http-auth-interceptor.js"></script>
<script src="/static/lib/angular/angular-sanitize.js"></script>
<script src="/static/lib/angular-ui-bootstrap/ui-bootstrap-tpls-2.0.0.js"></script>
<script src="/static/lib/encoder/gbk.js"></script>
<script src="/static/js/global.js"></script>
<script src="/static/js/env.js"></script>
</body>
</html>