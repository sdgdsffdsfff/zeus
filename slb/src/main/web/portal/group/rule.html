<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Group Rule</title>
    <script src="/static/lib/sui/jquery.min.js"></script>
    <script src="/static/lib/jquery/jquery.cookie.js"></script>
    <script src="/static/lib/bootstrap/js/bootstrap.min.js"></script>
    <script src="/static/lib/angular/angular.js"></script>
    <script src="/static/lib/jquery/jquery.ba-hashchange.js"></script>
    <!--Bootstrap-->
    <link rel="stylesheet" href="/static/lib/sui/sui-append.min.css">
    <link rel="stylesheet" href="/static/lib/bootstrap/css/bootstrap.css">
    <link rel="stylesheet" href="/static/lib/velonic-admin/css/bootstrap-reset.css">

    <!--Include Bootstrap-Table-->
    <script src="/static/lib/bootstrap-table/bootstrap-table.js"></script>
    <script src="/static/lib/bootstrap-table/bootstrap-table-zh-CN.js"></script>
    <script src="/static/lib/bootstrap-table/bootstrap-table-editable.js"></script>
    <script src="/static/lib/bootstrap-table/bootstrap-editable.js"></script>
    <link rel="stylesheet" href="/static/lib/bootstrap-table/bootstrap-table.css">
    <link rel="stylesheet" href="/static/lib/bootstrap-table/bootstrap-editable.css">

    <link rel="stylesheet" href="/static/lib/font-awesome-4.6.3/css/font-awesome.min.css">


    <!--For diff patch-->
    <script src="/static/lib/diff-match-patch/difflib.js"></script>
    <script src="/static/lib/diff-match-patch/diffview.js"></script>
    <link rel="stylesheet" href="/static/lib/diff-match-patch/diffview.css">
    <!--Animation css-->
    <link rel="stylesheet" href="/static/css/animate.css">
    <link href="/static/lib/velonic-admin/css/animate.css" rel="stylesheet">
    <link href="/static/lib/velonic-admin/assets/ionicon/css/ionicons.min.css" rel="stylesheet"/>

    <!-- Custom styles for this template -->
    <link href="/static/lib/velonic-admin/css/style.css" rel="stylesheet">
    <link href="/static/lib/velonic-admin/css/helper.css" rel="stylesheet">

    <!--Underscore-->
    <script src="/static/lib/underscore/underscore-min.js"></script>

    <!--<script src="/static/lib/velonic-admin/js/jquery.js"></script>-->
    <script src="/static/lib/velonic-admin/js/modernizr.min.js"></script>
    <script src="/static/lib/velonic-admin/js/pace.min.js"></script>
    <script src="/static/lib/velonic-admin/js/wow.min.js"></script>
    <script src="/static/lib/velonic-admin/js/jquery.app.js"></script>

    <link rel="stylesheet" href="/static/css/global-new.css">
    <link rel="stylesheet" href="/static/css/formatter.css">

    <link rel="stylesheet" href="/static/css/statistics/opslog.css">

    <style type="text/css">

        .unit {
            line-height: 32px;
            padding-left: 10px;
        }

        .panel-default {
            margin-top: 10px;
        }

        .form-horizontal .fa-toggle-off, .form-horizontal .fa-toggle-on {
            font-size: 20px;
            width: 50px;
            cursor: pointer;
        }

        .setting {
            margin-left: 20px !important;
        }

        .setting label {
            font-weight: normal !important;
        }

        .form-horizontal h4 {
            font-weight: bold;
        }

        .status-row {
            margin-top: 20px;
        }

        .save-buttons a {
            margin-left: 10px;
        }

        .list-style * {
            float: left;
        }

        .list-style span {
            line-height: 35px;
            margin-right: 10px;
        }

        .inner-setting {
            margin-top: 10px;
        }

        .input-setting {
            width: 90px;
        }

        .input-setting-sm {
            width: 70px !important;
        }

        .config-vl {
        }

        .form-horizontal .control-label {
            padding-top: 0px !important;
        }

        .source-table {
            margin-top: 5px;
        }

        .btn-little {
            padding: 5px;
        }

        .sub-list {
            margin-top: -10px;
        }

        .fa-question-circle-o {
            cursor: pointer;
            font-size: 16px;
        }

        .doc-area .fa-info-circle {
            margin-right: 10px;
        }

        .doc-area .fa-hand-o-right {
            font-size: 14px;
        }

        .breakcontext {
            display: block;
            word-break: break-all;
            float: left;
            margin-right: 3px
        }
    </style>
</head>
<body>
<header class="am-topbar admin-header page-head">

    <div class="am-topbar-brand ">
        <a href="/portal" class="logo-expanded">
            <span class="nav-label fa fa-road">SLB Portal</span>
        </a>
    </div>

    <div class="am-topbar-collapse">
        <button type="button" class="navbar-toggle pull-left">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
        <div id="top-brand" class="navbar-left pull-left hidden-xs" ng-app="brandApp" ng-controller="brandController"
             ng-cloak>

        </div>
    </div>

    <nav class="navbar-default" role="navigation">
        <ul class="nav navbar-nav hidden-xs" id="top-links" ng-app="topLinksApp" ng-controller="topLinksController"
            ng-cloak>
            <li class="dropdown" ng-class="isSelectedLink(x.url)" data-ng-repeat="x in data.members">
                <a href="{{generateTopLink(x)}}"><span ng-class="iconClass(x)"></span>{{x.name}}</a>
            </li>
        </ul>

       <ul class="nav navbar-nav navbar-right top-menu top-right-menu"><li class="dropdown language-menu" id="language-area" ng-app="languageApp" ng-controller="languageController" ng-cloak> <button class="btn btn-default btn-xs language-bt">语言</button> <select class="language-choose" ng-model="selected" ng-change="changeLanguage(selected)"><option style="color: white" data-ng-repeat="lan in data.languages">{{lan}}</option></select></li>
            <li class="dropdown diagnose-menu"><a class="diagnose-menu-item" data-toggle="modal"
                                                  data-target="#questionModal" data-dismiss="modal"><span><i
                    class="fa fa-comment-o"></i> <span>Feedback</span></span></a></li>

            <li class="dropdown text-center" id="user-info" ng-app="userInfoApp" ng-controller="userInfoController"
                ng-cloak>
                <a data-toggle="dropdown" class="dropdown-toggle naviList" href="#">
                    <i class="fa fa-user username"></i>
                    <span class="username">{{query.user}} </span> <span class="caret"></span>
                </a>
                <ul class="dropdown-menu pro-menu fadeInUp animated user-ops-div" tabindex="5003"
                    style="overflow: hidden; outline: none;">
                    <li><a href="/portal/user#?env={{env}}"><span>&nbsp;{{resource['userinfo']['home']}}</span></a></li>
                    <li ng-show="showSuperAdmin()"><a href="/portal/backend/users#?env={{env}}"><span>&nbsp;{{resource['userinfo']['auth']}}</span></a>
                    </li>
                    <li><a href="/api/auth/user/logout"><span>&nbsp;{{resource['userinfo']['logout']}}</span></a></li>
                </ul>
            </li>
        </ul>
    </nav>
</header>

<aside class="left-panel " style="overflow: hidden; outline: none;">

    <nav id="header-area" ng-controller="headerInfoController" class="navigation" ng-cloak>
        <ul class="list-unstyled">
            <li class=""><a href="{{generateLink('basic')}}"><i
                    class="ion-ios7-speedometer"></i>
                <span class="nav-label">{{resource["navs"]["navs_basic"]}}</span></a></li>
            <li class="active"><a href="{{generateLink('rule')}}"><i class="fa fa-pencil-square-o"></i> <span
                    class="nav-label">{{resource["navs"]["navs_rule"]}}</span></a>
            </li>
            <li class=""><a href="{{generateLink('intercept')}}"><i class="fa fa-shirtsinbulk"></i> <span
                    class="nav-label">{{resource["navs"]["navs_intercept"]}}</span></a>
            </li>
            <!--<li class=""><a href="{{generateLink('antibot')}}"><i class="fa fa-shirtsinbulk"></i> <span
                    class="nav-label">反爬规则</span></a>
            </li>-->
            <li class="" ng-show="showDelegate()"><a href="{{generateLink('delegate')}}"><i class="fa fa-random"></i> <span
                    class="nav-label">流量回源</span></a>
            </li>
            <li class=""><a href="{{generateLink('log')}}"><i class="ion-settings"></i> <span
                    class="nav-label">{{resource["navs"]["navs_log"]}}</span></a>
            </li>


            <li class=""><a href="{{generateLink('conf')}}"><i class="fa fa-file-code-o"></i> <span
                    class="nav-label">{{resource["navs"]["navs_conf"]}}</span></a>
            </li>
        </ul>
    </nav>
</aside>

<section class="content">
    <div class="wraper container-fluid">
        <div class="row breadcrumb-container">
            <div class="">
                <div class="pull-left" id="breadcrumb-area" ng-app="breadCrumbApp"
                     ng-controller="breadCrumbController" ng-cloak>
                    <ul class="breadcrumb">
                        <li>
                            <i class="icon-home"></i>
                            {{resource['bread']['home']}}
                        </li>
                        <li ng-repeat="x in breadlist" ng-cloak>
                            {{x}}
                        </li>
                    </ul>
                </div>

                <div class="summary-area" id="summary-area" ng-app="summaryInfoApp"
                     ng-controller="summaryController"
                     ng-cloak>
                    <div class="page-title">
                        <div>
                            <div angucomplete-alt id="targetSelector" class="pull-right target-selector"
                                 placeholder="{{target.name}}"
                                 pause="100"
                                 selected-object="selectTarget"
                                 remote-url="{{remoteUrl()}}"
                                 remote-url-request-formatter="cacheRequestFn"
                                 search-fields="id,name,pinyin"
                                 title-field="id,name"
                                 ng-click="clickTarget()"
                                 minlength="0"
                                 match-class="highlight"
                                 input-class="form-control form-control-small">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="wraper info-container" id="operation-log-area" ng-app="operationLogApp"
             ng-controller="operationLogController">

            <div class="row status-row">
                <div class="col-md-12">
                    <div class="pull-right">
                        <h4 ng-class="getStatusClass()" class="pull-right">
                            {{getStatusText()}}
                        </h4>
                    </div>
                </div>
            </div>

            <div class=" panel panel-default">
                <div class="panel-body ">
                    <form role="form" name="myForm" class="form-horizontal">
                        <div class="row">
                            <h4 class="big-header">{{resource['slb-rule']['slb_rule_operationLogApp_request']['title']}}</h4>
                            <!--Max body size-->
                            <div class="form-group setting">
                                <div class="row">
                                    <div class="col-md-4">
                                        <div>
                                            <label for="max-body-size" class="control-label">1. {{resource['slb-rule']['slb_rule_operationLogApp_request']['maxbodysize']}}</label>
                                            <i class="fa fa-question-circle-o" title="帮助"
                                               ng-click="viewDoc('client-max-body-size')"></i>
                                        </div>
                                    </div>
                                    <div class="col-md-2">
                                        <div class="pull-left" ng-show="!showSetting('client-max-body-size')">
                                            <span class="breakcontext"
                                                  ng-bind-html="getParentMaxSetting('client-max-body-size','client-max-body-size','MB')"></span>
                                            <i title="点此查看所有配置来源"
                                               ng-click="toggleSettingTarget('toggleMaxBodySize','client-max-body-size','client-max-body-size')"
                                               style="cursor: pointer" class="fa fa-question-circle"
                                               aria-hidden="true"></i>
                                        </div>
                                        <div class="pull-left" ng-show="showSetting('client-max-body-size')">
                                            <input type="number"
                                                   class="form-control input-sm pull-left input-setting"
                                                   name="maxbodysize"
                                                   id="max-body-size"
                                                   placeholder="{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['大小']}}"
                                                   ng-model="pagerules['client-max-body-size'][0]['value']['client-max-body-size']"
                                                   required/>
                                            <div class="pull-left unit">(MB)</div>
                                        </div>
                                    </div>

                                    <!--Config not using config or self-->
                                    <div class="col-md-1 config-vl">
                                        <div class="pull-right">
                                            <a title="点此为当前Group配置" class="badge bg-info"
                                               ng-show="!showSetting('client-max-body-size')"
                                               ng-click="toggleParentArea('client-max-body-size')">
                                                <span class="fa fa-pencil-square-o"></span>
                                            </a>

                                            <a title="点此为回退配置" class="badge bg-warning"
                                               ng-show="showSetting('client-max-body-size')"
                                               ng-click="toggleRedo('client-max-body-size')">
                                                <span class="fa fa-undo"></span>
                                            </a>

                                            <a title="点此删除当前rule" class="badge bg-danger"
                                               ng-show="showDeleteCurrentRule('client-max-body-size')"
                                               ng-click="deleteCurrentRule('client-max-body-size')">
                                                <span class="fa fa-minus"></span>
                                            </a>

                                        </div>
                                    </div>


                                    <div class="col-md-2"
                                         ng-bind-html="configTarget('client-max-body-size')">
                                    </div>

                                    <div class="col-md-3">
                                        <div class="status-red "
                                             ng-show="myForm.maxbodysize.$error.required">
                                            *{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['必须。默认']}}{{config['client-max-body-size']['default']}}MB
                                        </div>

                                        <div class="status-red "
                                             ng-show="showSizeError('client-max-body-size')">
                                            *{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['范围']}}:{{getMaxRestriction(config['client-max-body-size']['max'],
                                            config['client-max-body-size']['min'])}}
                                        </div>

                                    </div>
                                </div>

                                <div class="row source-table" ng-show="query.toggleShowAll || query.toggleMaxBodySize">
                                    <div class="col-md-4">
                                    </div>
                                    <div class="col-md-4">
                                        <table class="table table-bordered">
                                            <thead>
                                            <td>{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['值']}}</td>
                                            <td>{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['配置来源']}}</td>
                                            </thead>
                                            <tbody>
                                            <tr data-ng-repeat="(k,v) in parentRules['client-max-body-size']">
                                                <td>{{k}}MB</td>
                                                <td>
                                                    <div data-ng-repeat="item in v">
                                                        <span ng-bind-html="getItemSrc(item)"></span>
                                                    </div>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>

                            <!--Request timeout-->
                            <div class="form-group setting">
                                <div class="row">
                                    <div class="col-md-4">
                                        <div>
                                            <label for="proxy-read-timeout" class="control-label">2. {{resource['slb-rule']['slb_rule_operationLogApp_request']['requesttimeout']}}</label>
                                            <i class="fa fa-question-circle-o" title="帮助"
                                               ng-click="viewDoc('proxy-read-timeout')"></i>
                                        </div>
                                    </div>
                                    <div class="col-md-2">
                                        <div class="pull-left" ng-show="!showSetting('proxy-read-timeout')">
                                            <span class="breakcontext"
                                                  ng-bind-html="getParentMaxSetting('proxy-read-timeout','proxy-read-timeout','s')"></span>
                                            <i title="点此查看所有配置来源"
                                               ng-click="toggleSettingTarget('toggleRequestTimeout','proxy-read-timeout','proxy-read-timeout')"
                                               style="cursor: pointer" class="fa fa-question-circle"
                                               aria-hidden="true"></i>
                                        </div>
                                        <div class="pull-left" ng-show="showSetting('proxy-read-timeout')">
                                            <input type="number"
                                                   class="form-control input-sm pull-left input-setting"
                                                   name="requesttimeout"
                                                   id="proxy-read-timeout"
                                                   placeholder="{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['大小']}}"
                                                   ng-model="pagerules['proxy-read-timeout'][0]['value']['proxy-read-timeout']"
                                                   required/>
                                            <div class="pull-left unit">(s)</div>
                                        </div>
                                    </div>

                                    <!--Config not using config or self-->
                                    <div class="col-md-1 config-vl">
                                        <div class="pull-right">
                                            <a title="点此为当前Group配置" class="badge bg-info"
                                               ng-show="!showSetting('proxy-read-timeout')"
                                               ng-click="toggleParentArea('proxy-read-timeout')">
                                                <span class="fa fa-pencil-square-o"></span>
                                            </a>

                                            <a title="点此为回退配置" class="badge bg-warning"
                                               ng-show="showSetting('proxy-read-timeout')"
                                               ng-click="toggleRedo('proxy-read-timeout')">
                                                <span class="fa fa-undo"></span>
                                            </a>

                                            <a title="点此删除当前rule" class="badge bg-danger"
                                               ng-show="showDeleteCurrentRule('proxy-read-timeout')"
                                               ng-click="deleteCurrentRule('proxy-read-timeout')">
                                                <span class="fa fa-minus"></span>
                                            </a>

                                        </div>
                                    </div>


                                    <div class="col-md-2"
                                         ng-bind-html="configTarget('proxy-read-timeout')">
                                    </div>

                                    <div class="col-md-3">
                                        <div class="status-red "
                                             ng-show="myForm.requesttimeout.$error.required">
                                            *{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['必须。默认']}}{{config['proxy-read-timeout']['default']}}s
                                        </div>

                                        <div class="status-red "
                                             ng-show="showSizeError('proxy-read-timeout')">
                                            *{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['范围']}}:{{getMaxRestriction(config['proxy-read-timeout']['max'],
                                            config['proxy-read-timeout']['min'])}}
                                        </div>

                                    </div>
                                </div>

                                <div class="row source-table"
                                     ng-show="query.toggleShowAll || query.toggleRequestTimeout">
                                    <div class="col-md-4">
                                    </div>
                                    <div class="col-md-4">
                                        <table class="table table-bordered">
                                            <thead>
                                            <td>{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['值']}}</td>
                                            <td>{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['配置来源']}}</td>
                                            </thead>
                                            <tbody>
                                            <tr data-ng-repeat="(k,v) in parentRules['proxy-read-timeout']">
                                                <td>{{k}}s</td>
                                                <td>
                                                    <div data-ng-repeat="item in v">
                                                        <span ng-bind-html="getItemSrc(item)"></span>
                                                    </div>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>

                            <!--Client Body buffer size-->
                            <div class="form-group setting">
                                <div class="row">
                                    <div class="col-md-4">
                                        <div>
                                            <label for="client-body-buffer-size" class="control-label">3.
                                                {{resource['slb-rule']['slb_rule_operationLogApp_request']['clientbodybuffersize']}}</label>
                                            <i class="fa fa-question-circle-o" title="帮助"
                                               ng-click="viewDoc('client-body-buffer-size')"></i>
                                        </div>
                                    </div>

                                    <div class="col-md-2">
                                        <div class="pull-left" ng-show="!showSetting('client-body-buffer-size')">
                                            <span class="breakcontext"
                                                  ng-bind-html="getParentMaxSetting('client-body-buffer-size','client-body-buffer-size','k')"></span>
                                            <i title="点此查看所有配置来源"
                                               ng-click="toggleSettingTarget('toggleClientBufferSize','client-body-buffer-size','client-body-buffer-size')"
                                               style="cursor: pointer" class="fa fa-question-circle"
                                               aria-hidden="true"></i>
                                        </div>
                                        <div class="pull-left" ng-show="showSetting('client-body-buffer-size')">
                                            <input type="number"
                                                   class="form-control input-sm pull-left input-setting"
                                                   name="clientbodybuffersize"
                                                   id="client-body-buffer-size"
                                                   placeholder="{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['大小']}}"
                                                   ng-model="pagerules['client-body-buffer-size'][0]['value']['client-body-buffer-size']"
                                                   required/>
                                            <div class="pull-left unit">(k)</div>
                                        </div>
                                    </div>

                                    <div class="col-md-1 config-vl">
                                        <div class="pull-right">
                                            <a title="点此为当前Group配置" class="badge bg-info"
                                               ng-show="!showSetting('client-body-buffer-size')"
                                               ng-click="toggleParentArea('client-body-buffer-size')">
                                                <span class="fa fa-pencil-square-o"></span>
                                            </a>

                                            <a title="点此为回退配置" class="badge bg-warning"
                                               ng-show="showSetting('client-body-buffer-size')"
                                               ng-click="toggleRedo('client-body-buffer-size')">
                                                <span class="fa fa-undo"></span>
                                            </a>

                                            <a title="点此删除当前rule" class="badge bg-danger"
                                               ng-show="showDeleteCurrentRule('client-body-buffer-size')"
                                               ng-click="deleteCurrentRule('client-body-buffer-size')">
                                                <span class="fa fa-minus"></span>
                                            </a>

                                        </div>
                                    </div>

                                    <div class="col-md-2"
                                         ng-bind-html="configTarget('client-body-buffer-size')">
                                    </div>

                                    <div class="col-md-3">
                                        <div class="status-red "
                                             ng-show="myForm.clientbodybuffersize.$error.required">
                                            *{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['必须。默认']}}{{config['client-body-buffer-size']['default']}}k
                                        </div>

                                        <div class="status-red "
                                             ng-show="showSizeError('client-body-buffer-size')">
                                            *{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['范围']}}:{{getMaxRestriction(config['client-body-buffer-size']['max'],
                                            config['client-body-buffer-size']['min'])}}
                                        </div>

                                    </div>
                                </div>

                                <div class="row source-table"
                                     ng-show="query.toggleShowAll || query.toggleClientBufferSize">
                                    <div class="col-md-4">
                                    </div>
                                    <div class="col-md-4">
                                        <table class="table table-bordered">
                                            <thead>
                                            <td>{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['值']}}</td>
                                            <td>{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['配置来源']}}</td>
                                            </thead>
                                            <tbody>
                                            <tr data-ng-repeat="(k,v) in parentRules['client-body-buffer-size']">
                                                <td>{{k}}k</td>
                                                <td>
                                                    <div data-ng-repeat="item in v">
                                                        <span ng-bind-html="getItemSrc(item)"></span>
                                                    </div>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>

                            <!--Enable Request id-->
                            <div class="form-group setting">
                                <div class="row">
                                    <div class="col-md-4">
                                        <div>
                                            <label for="toggle-requestid" class="control-label">4. {{resource['slb-rule']['slb_rule_operationLogApp_request']['enablerequestid']}}</label>
                                            <i class="fa fa-question-circle-o" title="帮助"
                                               ng-click="viewDoc('request-id-enable')"></i>
                                        </div>
                                    </div>

                                    <div class="col-md-2">
                                        <div class="pull-left"
                                             ng-show="getParentEnable('request-id-enable').length>1">
                                            <span class="breakcontext">状态配置不一致</span>
                                            <i title="点此查看所有配置来源"
                                               ng-click="toggleSettingTarget('toggleRequestId','request-id-enable','enabled')"
                                               style="cursor: pointer" class="fa fa-question-circle"
                                               aria-hidden="true"></i>
                                        </div>

                                        <div class="pull-left"
                                             ng-show="getParentEnable('request-id-enable').length==1 || showEnableSetting('request-id-enable')">
                                            <i id="toggle-requestid" ng-class="getEnableClass('request-id-enable')"
                                               ng-click="toggleEnabled('request-id-enable')"></i>
                                        </div>
                                    </div>

                                    <div class="col-md-1 config-vl">
                                        <div class="pull-right">
                                            <a title="点此为当前Group配置" class="badge bg-info"
                                               ng-show="!showSetting('request-id-enable')"
                                               ng-click="toggleParentArea('request-id-enable')">
                                                <span class="fa fa-pencil-square-o"></span>
                                            </a>

                                            <a title="点此为回退配置" class="badge bg-warning"
                                               ng-show="showSetting('request-id-enable')"
                                               ng-click="toggleRedo('request-id-enable')">
                                                <span class="fa fa-undo"></span>
                                            </a>

                                            <a title="点此删除当前rule" class="badge bg-danger"
                                               ng-show="showDeleteCurrentRule('request-id-enable')"
                                               ng-click="deleteCurrentRule('request-id-enable')">
                                                <span class="fa fa-minus"></span>
                                            </a>

                                        </div>

                                    </div>

                                    <div class="col-md-3"
                                         ng-bind-html="configTarget('request-id-enable')"></div>
                                </div>

                                <div class="row source-table" ng-show="query.toggleShowAll || query.toggleRequestId">
                                    <div class="col-md-4">
                                    </div>
                                    <div class="col-md-4">
                                        <table class="table table-bordered">
                                            <thead>
                                            <td>{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['值']}}</td>
                                            <td>{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['配置来源']}}</td>
                                            </thead>
                                            <tbody>
                                            <tr data-ng-repeat="(k,v) in parentRules['request-id-enable']">
                                                <td>{{(k==true || k=="true")?"打开":"关闭"}}</td>
                                                <td>
                                                    <div data-ng-repeat="item in v">
                                                        <span ng-bind-html="getItemSrc(item)"></span>
                                                    </div>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>

                            <!--Request Block Setting-->
                            <div class="form-group setting">
                                <div class="row">
                                    <div class="col-md-4">
                                        <div>
                                            <label class="control-label">5. {{resource['slb-rule']['slb_rule_operationLogApp_request']['requestintercept']['title']}}</label>

                                            <i class="fa fa-question-circle-o" title="帮助"
                                               ng-click="viewDoc('request-intercept-for-ip-black-list-rule')"></i>
                                        </div>
                                    </div>

                                    <div class="col-md-2">
                                        <div class="pull-left"
                                             ng-show="getParentEnable('request-intercept-for-ip-black-list-rule').length>1">
                                            <span class="breakcontext">状态配置不一致</span>
                                            <i title="点此查看所有配置来源"
                                               ng-click="toggleSettingTarget('toggleIntercept','request-intercept-for-ip-black-list-rule','enabled')"
                                               style="cursor: pointer" class="fa fa-question-circle"
                                               aria-hidden="true"></i>
                                        </div>

                                        <div class="pull-left"
                                             ng-show="getParentEnable('request-intercept-for-ip-black-list-rule').length==1 || showEnableSetting('request-intercept-for-ip-black-list-rule')">
                                            <i id="block-size-enabled"
                                               ng-class="getEnableClass('request-intercept-for-ip-black-list-rule')"
                                               ng-click="toggleEnabled('request-intercept-for-ip-black-list-rule')"></i>
                                        </div>
                                    </div>

                                    <div class="col-md-1 config-vl">
                                        <div class="pull-right">
                                            <a title="点此为当前Group配置" class="badge bg-info"
                                               ng-show="!showSetting('request-intercept-for-ip-black-list-rule')"
                                               ng-click="toggleParentArea('request-intercept-for-ip-black-list-rule')">
                                                <span class="fa fa-pencil-square-o"></span>
                                            </a>

                                            <a title="点此为回退配置" class="badge bg-warning"
                                               ng-show="showSetting('request-intercept-for-ip-black-list-rule')"
                                               ng-click="toggleRedo('request-intercept-for-ip-black-list-rule')">
                                                <span class="fa fa-undo"></span>
                                            </a>

                                            <a title="点此删除当前rule" class="badge bg-danger"
                                               ng-show="showDeleteCurrentRule('request-intercept-for-ip-black-list-rule')"
                                               ng-click="deleteCurrentRule('request-intercept-for-ip-black-list-rule')">
                                                <span class="fa fa-minus"></span>
                                            </a>

                                        </div>

                                    </div>

                                    <div class="col-md-3"
                                         ng-bind-html="configTarget('request-intercept-for-ip-black-list-rule')"></div>
                                </div>

                                <div class="row sub-list"
                                     ng-show="showEnabledConfigures('request-intercept-for-ip-black-list-rule')">

                                    <div class="inner-setting col-md-12">
                                        <div class="col-md-4">
                                            <label style="margin-left: 10px" class="control-label">a) {{resource['slb-rule']['slb_rule_operationLogApp_request']['requestintercept']['white']}}</label>
                                        </div>

                                        <div class="col-md-3">
                                            <div class="pull-left">
                                                <i ng-class="getEnableBlackListGlobalClass()"
                                                   ng-click="toggleBlackListGlobalEnabled()"></i>
                                            </div>
                                        </div>
                                        <div class="col-md-5"></div>
                                    </div>

                                    <div class="inner-setting col-md-12">
                                        <div class="col-md-4">
                                            <label style="margin-left: 10px" class="control-label">b) {{resource['slb-rule']['slb_rule_operationLogApp_request']['requestintercept']['code']}}</label>
                                        </div>

                                        <div class="col-md-1">
                                            <select class="form-control" style="height: 39px; width: 80px"
                                                    data-ng-model="pagerules['request-intercept-for-ip-black-list-rule'][0]['value']['reject-code']">
                                                <option value="432" selected>432</option>
                                            </select>
                                        </div>
                                        <div class="col-md-7"></div>
                                    </div>
                                    <!--Large Header Size-->
                                    <div class="inner-setting col-md-12">
                                        <div class="col-md-4">
                                            <label style="margin-left: 10px" class="control-label">c) {{resource['slb-rule']['slb_rule_operationLogApp_request']['requestintercept']['message']}}</label>
                                        </div>

                                        <div class="col-md-3">
                                            <div ng-show="showSetting('request-intercept-for-ip-black-list-rule')"
                                                 class="list-style">
                                                <textarea name="reject-message"
                                                          cols="50"
                                                          ng-model="pagerules['request-intercept-for-ip-black-list-rule'][0]['value']['reject-message']"
                                                          required></textarea>
                                            </div>

                                            <div class="config-vl"
                                                 ng-show="!showSetting('request-intercept-for-ip-black-list-rule')">
                                                <div class="pull-left">
                                                    <span class="breakcontext"
                                                          ng-bind-html="getParentMaxSetting('request-intercept-for-ip-black-list-rule','reject-message','')"></span>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-md-2"></div>
                                        <div class="col-md-3">
                                            <div class="status-red" ng-show="myForm['reject-message'].$error.required">
                                                *{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['必须。默认']}}: {{config['request-intercept-for-ip-black-list-rule']['reject-message']}}
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row source-table" ng-show="query.toggleShowAll || query.toggleIntercept">
                                    <div class="col-md-4">
                                    </div>
                                    <div class="col-md-4">
                                        <table class="table table-bordered">
                                            <thead>
                                            <td>{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['值']}}</td>
                                            <td>{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['配置来源']}}</td>
                                            </thead>
                                            <tbody>
                                            <tr data-ng-repeat="(k,v) in parentRules['request-intercept-for-ip-black-list-rule']">
                                                <td>{{(k==true || k=="true")?"打开":"关闭"}}</td>
                                                <td>
                                                    <div data-ng-repeat="item in v">
                                                        <span ng-bind-html="getItemSrc(item)"></span>
                                                    </div>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>

                            <!--Requst buffering-->
                            <div class="form-group setting">
                                <div class="row">
                                    <div class="col-md-4">
                                        <div>
                                            <label class="control-label">6. {{resource['slb-rule']['slb_rule_operationLogApp_request']['requestbodybuffer']}}</label>
                                            <i class="fa fa-question-circle-o" title="帮助"
                                               ng-click="viewDoc('proxy-request-buffer-enable')"></i>
                                        </div>
                                    </div>

                                    <div class="col-md-2">
                                        <div class="pull-left"
                                             ng-show="getParentEnable('proxy-request-buffer-enable').length>1">
                                            <span class="breakcontext">状态配置不一致</span>
                                            <i title="点此查看所有配置来源"
                                               ng-click="toggleSettingTarget('toggleBodyBufferingEnable','proxy-request-buffer-enable','enabled')"
                                               style="cursor: pointer" class="fa fa-question-circle"
                                               aria-hidden="true"></i>
                                        </div>

                                        <div class="pull-left"
                                             ng-show="getParentEnable('proxy-request-buffer-enable').length==1 || showEnableSetting('proxy-request-buffer-enable')">
                                            <i ng-class="getEnableClass('proxy-request-buffer-enable')"
                                               ng-click="toggleEnabled('proxy-request-buffer-enable')"></i>
                                        </div>
                                    </div>

                                    <div class="col-md-1 config-vl">
                                        <div class="pull-right">
                                            <a title="点此为当前Group配置" class="badge bg-info"
                                               ng-show="!showSetting('proxy-request-buffer-enable')"
                                               ng-click="toggleParentArea('proxy-request-buffer-enable')">
                                                <span class="fa fa-pencil-square-o"></span>
                                            </a>

                                            <a title="点此为回退配置" class="badge bg-warning"
                                               ng-show="showSetting('proxy-request-buffer-enable')"
                                               ng-click="toggleRedo('proxy-request-buffer-enable')">
                                                <span class="fa fa-undo"></span>
                                            </a>

                                            <a title="点此删除当前rule" class="badge bg-danger"
                                               ng-show="showDeleteCurrentRule('proxy-request-buffer-enable')"
                                               ng-click="deleteCurrentRule('proxy-request-buffer-enable')">
                                                <span class="fa fa-minus"></span>
                                            </a>

                                        </div>

                                    </div>

                                    <div class="col-md-3"
                                         ng-bind-html="configTarget('proxy-request-buffer-enable')"></div>
                                </div>

                                <div class="row source-table" ng-show="query.toggleShowAll || query.toggleBodyBufferingEnable">
                                    <div class="col-md-4">
                                    </div>
                                    <div class="col-md-4">
                                        <table class="table table-bordered">
                                            <thead>
                                            <td>{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['值']}}</td>
                                            <td>{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['配置来源']}}</td>
                                            </thead>
                                            <tbody>
                                            <tr data-ng-repeat="(k,v) in parentRules['proxy-request-buffer-enable']">
                                                <td>{{k==true?"打开":"关闭"}}</td>
                                                <td>
                                                    <div data-ng-repeat="item in v">
                                                        <span ng-bind-html="getItemSrc(item)"></span>
                                                    </div>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <h4 class="big-header">{{resource['slb-rule']['slb_rule_operationLogApp_response']['title']}}</h4>
                            <!--Enable Gzip-->
                            <div class="form-group setting">
                                <div class="row">
                                    <div class="col-md-4">
                                        <div>
                                            <label for="support-gzip" class="control-label">1. {{resource['slb-rule']['slb_rule_operationLogApp_response']['gzip']['title']}}</label>
                                            <i class="fa fa-question-circle-o" title="帮助"
                                               ng-click="viewDoc('gzip')"></i>
                                        </div>
                                    </div>

                                    <div class="col-md-2">
                                        <div class="pull-left"
                                             ng-show="getParentEnable('gzip').length>1">
                                            <span class="breakcontext">状态配置不一致</span>
                                            <i title="点此查看所有配置来源"
                                               ng-click="toggleSettingTarget('toggleLocationGzip','gzip','enabled')"
                                               style="cursor: pointer" class="fa fa-question-circle"
                                               aria-hidden="true"></i>
                                        </div>

                                        <div class="pull-left"
                                             ng-show="getParentEnable('gzip').length==1 || showEnableSetting('gzip')">
                                            <i id="support-gzip" ng-class="getEnableClass('gzip')"
                                               ng-click="toggleEnabled('gzip')"></i>
                                        </div>
                                    </div>

                                    <div class="col-md-1 config-vl">
                                        <div class="pull-right">
                                            <a title="点此为当前Group配置" class="badge bg-info"
                                               ng-show="!showSetting('gzip')"
                                               ng-click="toggleParentArea('gzip')">
                                                <span class="fa fa-pencil-square-o"></span>
                                            </a>

                                            <a title="点此为回退配置" class="badge bg-warning"
                                               ng-show="showSetting('gzip')"
                                               ng-click="toggleRedo('gzip')">
                                                <span class="fa fa-undo"></span>
                                            </a>

                                            <a title="点此删除当前rule" class="badge bg-danger"
                                               ng-show="showDeleteCurrentRule('gzip')"
                                               ng-click="deleteCurrentRule('gzip')">
                                                <span class="fa fa-minus"></span>
                                            </a>

                                        </div>

                                    </div>

                                    <div class="col-md-3" ng-bind-html="configTarget('gzip')"></div>
                                </div>

                                <div class="row sub-list" ng-show="showEnabledConfigures('gzip')">
                                    <div class="inner-setting col-md-12">
                                        <div class="col-md-4">
                                            <label style="margin-left: 10px" class="control-label">a)
                                                {{resource['slb-rule']['slb_rule_operationLogApp_response']['gzip']['contenttype']}}</label>
                                        </div>

                                        <div class="col-md-3">
                                            <textarea ng-show="showSetting('gzip')"
                                                      name="gzip-type"
                                                      class="form-control"
                                                      ng-model="pagerules['gzip'][0]['value']['gzip-types']"
                                                      required></textarea>

                                            <div class="config-vl" ng-show="!showSetting('gzip')">
                                                <div class="pull-left">
                                                    <span style="max-width: 90%; min-width: 90%;"
                                                          ng-bind-html="getParentMaxSetting('gzip','gzip-types','')"></span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-2"></div>
                                        <div class="col-md-3">
                                            <div class="status-red" ng-show="myForm['gzip-type'].$error.required">
                                                *{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['必须。默认']}}: {{config['gzip']['types']['default']}}
                                            </div>

                                            <div class="status-red"
                                                 ng-show="showGzipTypeError()">
                                                *范围: [text/html, text/plain, application/x-javascript,
                                                text/css, text/javascript, *]. 多个MIME Type之间以空格分隔
                                            </div>
                                        </div>
                                    </div>

                                    <div class="inner-setting col-md-12">
                                        <div class="col-md-4">
                                            <label style="margin-left: 10px" class="control-label">b) {{resource['slb-rule']['slb_rule_operationLogApp_response']['gzip']['buffersize']}}</label>
                                        </div>
                                        <div class="col-md-5">
                                            <div class="list-style" ng-show="showSetting('gzip')">
                                                <input type="number"
                                                       class="form-control input-setting-sm input-sm"
                                                       name="gzipbuffercount"
                                                       ng-model="pagerules['gzip'][0]['value']['gzip-buffer-count']"
                                                       required/>
                                                <span style="margin-left: 7px;">个/每个</span>
                                                <input type="number"
                                                       class="form-control input-sm input-setting-sm"
                                                       name="gzipbuffersize"
                                                       ng-model="pagerules['gzip'][0]['value']['gzip-buffer-size']"
                                                       required/>
                                                <span class="unit" style="line-height: 35px">(k)</span>
                                            </div>

                                            <div class="config-vl" ng-show="!showSetting('gzip')">
                                                <div class="pull-left">
                                                    <span class="breakcontext"
                                                          ng-bind-html="getGzipParentBuffers()"></span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="status-red" ng-show="showGzipBufferCountError()">
                                                <span ng-bind-html="getGzipBufferCountErrorHtml()"></span>
                                            </div>

                                            <div class="status-red" ng-show="showGzipBufferSizeError()">
                                                <span ng-bind-html="getGzipBufferSizeErrorHtml()"></span>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="inner-setting col-md-12">
                                        <div class="col-md-4">
                                            <label style="margin-left: 10px" for="gzip-min-length"
                                                   class="control-label">c) {{resource['slb-rule']['slb_rule_operationLogApp_response']['gzip']['minlen']}}</label>
                                        </div>

                                        <div class="col-md-3">
                                            <div class="list-style" ng-show="showSetting('gzip')">
                                                <input id="gzip-min-length"
                                                       ng-min="config['gzip']['min-length']['min']"
                                                       ng-max="config['gzip']['min-length']['max']"
                                                       name="gzipminlength"
                                                       type="number"
                                                       class="form-control input-sm input-setting-sm pull-left"
                                                       ng-model="pagerules['gzip'][0]['value']['gzip-min-length']"
                                                       required/>

                                                <span class="unit">(字节)</span>
                                            </div>


                                            <div class="config-vl" ng-show="!showSetting('gzip')">
                                                <div class="pull-left">
                                                    <span class="breakcontext"
                                                          ng-bind-html="getParentMaxSetting('gzip','gzip-min-length','字节')"></span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-2"></div>
                                        <div class="col-md-3">
                                            <div class="status-red"
                                                 ng-show="myForm.gzipminlength.$error.required">
                                                *{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['必须。默认']}}{{config['gzip']['min-length']['default']}}
                                            </div>
                                            <div class="status-red" ng-show="showGzipMinLengthError()">
                                                *范围: {{getMaxRestriction(config['gzip']['min-length']['max'],
                                                config['gzip']['min-length']['min'])}}
                                            </div>
                                        </div>
                                    </div>

                                    <div class="inner-setting col-md-12">
                                        <div class="col-md-4">
                                            <label style="margin-left: 10px" for="gzip-com-level" class="control-label">d)
                                                {{resource['slb-rule']['slb_rule_operationLogApp_response']['gzip']['level']}}</label>
                                        </div>

                                        <div class="col-md-3">
                                            <input id="gzip-com-level" ng-show="showSetting('gzip')"
                                                   ng-min="config['gzip']['compress']['min']"
                                                   ng-max="config['gzip']['compress']['max']"
                                                   name="gzipcomlevel"
                                                   type="number"
                                                   class="form-control input-sm input-setting-sm pull-left"
                                                   ng-model="pagerules['gzip'][0]['value']['gzip-comp-level']"
                                                   required/>

                                            <div class="config-vl" ng-show="!showSetting('gzip')">
                                                <div class="pull-left">
                                                    <span class="breakcontext"
                                                          ng-bind-html="getParentMaxSetting('gzip','gzip-comp-level','')"></span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-2"></div>
                                        <div class="col-md-3">
                                            <div class="status-red"
                                                 ng-show="myForm.gzipcomlevel.$error.required">
                                                *{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['必须。默认']}}{{config['gzip']['compress']['default']}}
                                            </div>
                                            <div class="status-red" ng-show="showGzipCompressError()">
                                                *范围: {{getMaxRestriction(config['gzip']['compress']['max'],
                                                config['gzip']['compress']['min'])}}
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row source-table" ng-show="query.toggleShowAll || query.toggleLocationGzip">
                                    <div class="col-md-4">
                                    </div>
                                    <div class="col-md-4">
                                        <table class="table table-bordered">
                                            <thead>
                                            <td>{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['值']}}</td>
                                            <td>{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['配置来源']}}</td>
                                            </thead>
                                            <tbody>
                                            <tr data-ng-repeat="(k,v) in parentRules['gzip']">
                                                <td>{{(k==true || k=="true")?"打开":"关闭"}}</td>
                                                <td>
                                                    <div data-ng-repeat="item in v">
                                                        <span ng-bind-html="getItemSrc(item)"></span>
                                                    </div>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>

                            <!--Enable Reading SLB Protocol-->
                            <div class="form-group setting">
                                <div class="row">
                                    <div class="col-md-4">
                                        <div>
                                            <label class="control-label">2. {{resource['slb-rule']['slb_rule_operationLogApp_response']['enableprotocol']}}</label>
                                            <i class="fa fa-question-circle-o" title="帮助"
                                               ng-click="viewDoc('protocol-response-header')"></i>
                                        </div>
                                    </div>

                                    <div class="col-md-2">
                                        <div class="pull-left"
                                             ng-show="getParentEnable('protocol-response-header').length>1">
                                            <span class="breakcontext">状态配置不一致</span>
                                            <i title="点此查看所有配置来源"
                                               ng-click="toggleSettingTarget('toggleSlbHeader','protocol-response-header','enabled')"
                                               style="cursor: pointer" class="fa fa-question-circle"
                                               aria-hidden="true"></i>
                                        </div>

                                        <div class="pull-left"
                                             ng-show="getParentEnable('protocol-response-header').length==1 || showEnableSetting('protocol-response-header')">
                                            <i ng-class="getEnableClass('protocol-response-header')"
                                               ng-click="toggleEnabled('protocol-response-header')"></i>
                                        </div>
                                    </div>

                                    <div class="col-md-1 config-vl">
                                        <div class="pull-right">
                                            <a title="点此为当前Group配置" class="badge bg-info"
                                               ng-show="!showSetting('protocol-response-header')"
                                               ng-click="toggleParentArea('protocol-response-header')">
                                                <span class="fa fa-pencil-square-o"></span>
                                            </a>

                                            <a title="点此为回退配置" class="badge bg-warning"
                                               ng-show="showSetting('protocol-response-header')"
                                               ng-click="toggleRedo('protocol-response-header')">
                                                <span class="fa fa-undo"></span>
                                            </a>

                                            <a title="点此删除当前rule" class="badge bg-danger"
                                               ng-show="showDeleteCurrentRule('protocol-response-header')"
                                               ng-click="deleteCurrentRule('protocol-response-header')">
                                                <span class="fa fa-minus"></span>
                                            </a>

                                        </div>

                                    </div>

                                    <div class="col-md-3"
                                         ng-bind-html="configTarget('protocol-response-header')"></div>
                                </div>

                                <div class="row source-table" ng-show="query.toggleShowAll || query.toggleSlbHeader">
                                    <div class="col-md-4">
                                    </div>
                                    <div class="col-md-4">
                                        <table class="table table-bordered">
                                            <thead>
                                            <td>{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['值']}}</td>
                                            <td>{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['配置来源']}}</td>
                                            </thead>
                                            <tbody>
                                            <tr data-ng-repeat="(k,v) in parentRules['protocol-response-header']">
                                                <td>{{k==true?"打开":"关闭"}}</td>
                                                <td>
                                                    <div data-ng-repeat="item in v">
                                                        <span ng-bind-html="getItemSrc(item)"></span>
                                                    </div>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <h4 class="big-header">{{resource['slb-rule']['slb_rule_operationLogApp_connection']['title']}}</h4>
                            <!--Keep alive count-->
                            <div class="form-group setting">
                                <div class="row">
                                    <div class="col-md-4">
                                        <div>
                                            <label for="upstream-keep-alive-count" class="control-label">1.
                                                {{resource['slb-rule']['slb_rule_operationLogApp_connection']['upstreamkeepalivecount']}}</label>
                                            <i class="fa fa-question-circle-o" title="帮助"
                                               ng-click="viewDoc('upstream-keep-alive-count')"></i>
                                        </div>
                                    </div>
                                    <div class="col-md-2">
                                        <div class="pull-left" ng-show="!showSetting('upstream-keep-alive-count')">
                                            <span class="breakcontext"
                                                  ng-bind-html="getParentMaxSetting('upstream-keep-alive-count','upstream-keep-alive-count','个')"></span>
                                            <i title="点此查看所有配置来源"
                                               ng-click="toggleSettingTarget('toggleKeepAliveCount','upstream-keep-alive-count','upstream-keep-alive-count')"
                                               style="cursor: pointer" class="fa fa-question-circle"
                                               aria-hidden="true"></i>
                                        </div>
                                        <div class="pull-left" ng-show="showSetting('upstream-keep-alive-count')">
                                            <input type="number"
                                                   class="form-control input-sm pull-left input-setting"
                                                   name="keepalivecount"
                                                   id="upstream-keep-alive-count"
                                                   placeholder="个数"
                                                   ng-model="pagerules['upstream-keep-alive-count'][0]['value']['upstream-keep-alive-count']"
                                                   required/>
                                            <span class="pull-left unit">(个)</span>
                                        </div>
                                    </div>

                                    <div class="col-md-1 config-vl">
                                        <div class="pull-right">
                                            <a title="点此为当前Group配置" class="badge bg-info"
                                               ng-show="!showSetting('upstream-keep-alive-count')"
                                               ng-click="toggleParentArea('upstream-keep-alive-count')">
                                                <span class="fa fa-pencil-square-o"></span>
                                            </a>

                                            <a title="点此为回退配置" class="badge bg-warning"
                                               ng-show="showSetting('upstream-keep-alive-count')"
                                               ng-click="toggleRedo('upstream-keep-alive-count')">
                                                <span class="fa fa-undo"></span>
                                            </a>

                                            <a title="点此删除当前rule" class="badge bg-danger"
                                               ng-show="showDeleteCurrentRule('upstream-keep-alive-count')"
                                               ng-click="deleteCurrentRule('upstream-keep-alive-count')">
                                                <span class="fa fa-minus"></span>
                                            </a>

                                        </div>
                                    </div>


                                    <div class="col-md-2"
                                         ng-bind-html="configTarget('upstream-keep-alive-count')">
                                    </div>

                                    <div class="col-md-3">
                                        <div class="status-red "
                                             ng-show="myForm.keepalivecount.$error.required">
                                            *{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['必须。默认']}}{{config['upstream-keep-alive-count']['default']}}个
                                        </div>

                                        <div class="status-red "
                                             ng-show="showSizeError('upstream-keep-alive-count')">
                                            *{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['范围']}}:{{getMaxRestriction(config['upstream-keep-alive-count']['max'],
                                            config['upstream-keep-alive-count']['min'])}}
                                        </div>

                                    </div>
                                </div>

                                <div class="row source-table"
                                     ng-show="query.toggleShowAll || query.toggleKeepAliveCount">
                                    <div class="col-md-4">
                                    </div>
                                    <div class="col-md-4">
                                        <table class="table table-bordered">
                                            <thead>
                                            <td>{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['值']}}</td>
                                            <td>{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['配置来源']}}</td>
                                            </thead>
                                            <tbody>
                                            <tr data-ng-repeat="(k,v) in parentRules['upstream-keep-alive-count']">
                                                <td>{{k}}个</td>
                                                <td>
                                                    <div data-ng-repeat="item in v">
                                                        <span ng-bind-html="getItemSrc(item)"></span>
                                                    </div>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <!--Keep alive timeout-->
                            <div class="form-group setting">
                                <div class="row">
                                    <div class="col-md-4">
                                        <div>
                                            <label for="upstream-keep-alive-timeout" class="control-label">2.
                                                {{resource['slb-rule']['slb_rule_operationLogApp_connection']['upstreamkeepalivetime']}}</label>
                                            <i class="fa fa-question-circle-o" title="帮助"
                                               ng-click="viewDoc('upstream-keep-alive-timeout')"></i>
                                        </div>
                                    </div>
                                    <div class="col-md-2">
                                        <div class="pull-left" ng-show="!showSetting('upstream-keep-alive-timeout')">
                                            <span class="breakcontext"
                                                  ng-bind-html="getParentMaxSetting('upstream-keep-alive-timeout','upstream-keep-alive-timeout','s')"></span>
                                            <i title="点此查看所有配置来源"
                                               ng-click="toggleSettingTarget('toggleKeepAliveTimeout','upstream-keep-alive-timeout','upstream-keep-alive-timeout')"
                                               style="cursor: pointer" class="fa fa-question-circle"
                                               aria-hidden="true"></i>
                                        </div>
                                        <div class="pull-left" ng-show="showSetting('upstream-keep-alive-timeout')">
                                            <input type="number"
                                                   ng-min="config['upstream-keep-alive-timeout']['min']"
                                                   ng-max="config['upstream-keep-alive-timeout']['max']"
                                                   class="form-control input-sm pull-left input-setting"
                                                   name="keepalivetimeout"
                                                   id="upstream-keep-alive-timeout"
                                                   placeholder="{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['大小']}}"
                                                   ng-model="pagerules['upstream-keep-alive-timeout'][0]['value']['upstream-keep-alive-timeout']"
                                                   required/>
                                            <span class="pull-left unit">(s)</span>
                                        </div>
                                    </div>

                                    <div class="col-md-1 config-vl">
                                        <div class="pull-right">
                                            <a title="点此为当前Group配置" class="badge bg-info"
                                               ng-show="!showSetting('upstream-keep-alive-timeout')"
                                               ng-click="toggleParentArea('upstream-keep-alive-timeout')">
                                                <span class="fa fa-pencil-square-o"></span>
                                            </a>

                                            <a title="点此为回退配置" class="badge bg-warning"
                                               ng-show="showSetting('upstream-keep-alive-timeout')"
                                               ng-click="toggleRedo('upstream-keep-alive-timeout')">
                                                <span class="fa fa-undo"></span>
                                            </a>

                                            <a title="点此删除当前rule" class="badge bg-danger"
                                               ng-show="showDeleteCurrentRule('upstream-keep-alive-timeout')"
                                               ng-click="deleteCurrentRule('upstream-keep-alive-timeout')">
                                                <span class="fa fa-minus"></span>
                                            </a>

                                        </div>
                                    </div>


                                    <div class="col-md-2"
                                         ng-bind-html="configTarget('upstream-keep-alive-timeout')">
                                    </div>

                                    <div class="col-md-3">
                                        <div class="status-red "
                                             ng-show="myForm.keepalivetimeout.$error.required">
                                            *{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['必须。默认']}}{{config['upstream-keep-alive-timeout']['default']}}s
                                        </div>

                                        <div class="status-red "
                                             ng-show="showSizeError('upstream-keep-alive-timeout')">
                                            *{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['范围']}}:{{getMaxRestriction(config['upstream-keep-alive-timeout']['max'],
                                            config['upstream-keep-alive-timeout']['min'])}}
                                        </div>

                                    </div>
                                </div>

                                <div class="row source-table"
                                     ng-show="query.toggleShowAll || query.toggleKeepAliveTimeout">
                                    <div class="col-md-4">
                                    </div>
                                    <div class="col-md-4">
                                        <table class="table table-bordered">
                                            <thead>
                                            <td>{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['值']}}</td>
                                            <td>{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['配置来源']}}</td>
                                            </thead>
                                            <tbody>
                                            <tr data-ng-repeat="(k,v) in parentRules['upstream-keep-alive-timeout']">
                                                <td>{{k}}s</td>
                                                <td>
                                                    <div data-ng-repeat="item in v">
                                                        <span ng-bind-html="getItemSrc(item)"></span>
                                                    </div>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>


                        <div class="row">
                            <h4 class="big-header">{{resource['slb-rule']['slb_rule_operationLogApp_proxy']['title']}}</h4>
                            <!--Websocket setting-->
                            <div class="form-group setting">
                                <div class="row">
                                    <div class="col-md-4">
                                        <div>
                                            <label class="control-label">
                                                1. {{resource['slb-rule']['slb_rule_operationLogApp_proxy']['websocket']}}</label>
                                            <i class="fa fa-question-circle-o" title="帮助"
                                               ng-click="viewDoc('socket-io-enabled')"></i>
                                        </div>
                                    </div>

                                    <div class="col-md-2">
                                        <div class="pull-left"
                                             ng-show="getParentEnable('socket-io-enabled').length>1">
                                            <span class="breakcontext">状态配置不一致</span>
                                            <i title="点此查看所有配置来源"
                                               ng-click="toggleSettingTarget('toggleSocketIO','socket-io-enabled','enabled')"
                                               style="cursor: pointer" class="fa fa-question-circle"
                                               aria-hidden="true"></i>
                                        </div>

                                        <div class="pull-left"
                                             ng-show="getParentEnable('socket-io-enabled').length==1 || showEnableSetting('socket-io-enabled')">
                                            <i ng-class="getEnableClass('socket-io-enabled')"
                                               ng-click="toggleEnabled('socket-io-enabled')"></i>
                                        </div>
                                    </div>

                                    <div class="col-md-1 config-vl">
                                        <div class="pull-right">
                                            <a title="点此为当前Group配置" class="badge bg-info"
                                               ng-show="!showSetting('socket-io-enabled')"
                                               ng-click="toggleParentArea('socket-io-enabled')">
                                                <span class="fa fa-pencil-square-o"></span>
                                            </a>

                                            <a title="点此为回退配置" class="badge bg-warning"
                                               ng-show="showSetting('socket-io-enabled')"
                                               ng-click="toggleRedo('socket-io-enabled')">
                                                <span class="fa fa-undo"></span>
                                            </a>

                                            <a title="点此删除当前rule" class="badge bg-danger"
                                               ng-show="showDeleteCurrentRule('socket-io-enabled')"
                                               ng-click="deleteCurrentRule('socket-io-enabled')">
                                                <span class="fa fa-minus"></span>
                                            </a>
                                        </div>

                                    </div>

                                    <div class="col-md-3"
                                         ng-bind-html="configTarget('socket-io-enabled')"></div>
                                </div>

                                <div class="row source-table" ng-show="query.toggleShowAll || query.toggleSocketIO">
                                    <div class="col-md-4">
                                    </div>
                                    <div class="col-md-4">
                                        <table class="table table-bordered">
                                            <thead>
                                            <td>{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['值']}}</td>
                                            <td>{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['配置来源']}}</td>
                                            </thead>
                                            <tbody>
                                            <tr data-ng-repeat="(k,v) in parentRules['socket-io-enabled']">
                                                <td>{{k==true?"打开":"关闭"}}</td>
                                                <td>
                                                    <div data-ng-repeat="item in v">
                                                        <span ng-bind-html="getItemSrc(item)"></span>
                                                    </div>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <h4 class="big-header">{{resource['slb-rule']['slb_rule_operationLogApp_defaultpage']['title']}}</h4>
                            <!--Error page-->
                            <div class="form-group setting">
                                <div class="row">
                                    <div class="col-md-4">
                                        <div>
                                            <label class="control-label">1. {{resource['slb-rule']['slb_rule_operationLogApp_defaultpage']['enableerrorpage']}}</label>
                                            <i class="fa fa-question-circle-o" title="帮助"
                                               ng-click="viewDoc('group-error-page-enable')"></i>
                                        </div>
                                    </div>

                                    <div class="col-md-2">
                                        <div class="pull-left"
                                             ng-show="getParentEnable('group-error-page-enable').length>1">
                                            <span class="breakcontext">状态配置不一致</span>
                                            <i title="点此查看所有配置来源"
                                               ng-click="toggleSettingTarget('toggleErrorPageEnable','group-error-page-enable','enabled')"
                                               style="cursor: pointer" class="fa fa-question-circle"
                                               aria-hidden="true"></i>
                                        </div>

                                        <div class="pull-left"
                                             ng-show="getParentEnable('group-error-page-enable').length==1 || showEnableSetting('group-error-page-enable')">
                                            <i id="errorpageenable"
                                               ng-class="getEnableClass('group-error-page-enable')"
                                               ng-click="toggleEnabled('group-error-page-enable')"></i>
                                        </div>
                                    </div>

                                    <div class="col-md-1 config-vl">
                                        <div class="pull-right">
                                            <a title="点此为当前Group配置" class="badge bg-info"
                                               ng-show="!showSetting('group-error-page-enable')"
                                               ng-click="toggleParentArea('group-error-page-enable')">
                                                <span class="fa fa-pencil-square-o"></span>
                                            </a>

                                            <a title="点此为回退配置" class="badge bg-warning"
                                               ng-show="showSetting('group-error-page-enable')"
                                               ng-click="toggleRedo('group-error-page-enable')">
                                                <span class="fa fa-undo"></span>
                                            </a>

                                            <a title="点此删除当前rule" class="badge bg-danger"
                                               ng-show="showDeleteCurrentRule('group-error-page-enable')"
                                               ng-click="deleteCurrentRule('group-error-page-enable')">
                                                <span class="fa fa-minus"></span>
                                            </a>

                                        </div>

                                    </div>

                                    <div class="col-md-3"
                                         ng-bind-html="configTarget('group-error-page-enable')"></div>
                                </div>

                                <div class="row source-table"
                                     ng-show="query.toggleShowAll || query.toggleErrorPageEnable">
                                    <div class="col-md-4">
                                    </div>
                                    <div class="col-md-4">
                                        <table class="table table-bordered">
                                            <thead>
                                            <td>{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['值']}}</td>
                                            <td>{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['配置来源']}}</td>
                                            </thead>
                                            <tbody>
                                            <tr data-ng-repeat="(k,v) in parentRules['group-error-page-enable']">
                                                <td>{{k==true?"打开":"关闭"}}</td>
                                                <td>
                                                    <div data-ng-repeat="item in v">
                                                        <span ng-bind-html="getItemSrc(item)"></span>
                                                    </div>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <h4 class="big-header">{{resource['slb-rule']['slb_rule_operationLogApp_redirect']['title']}}</h4>

                            <!--Add Condition Redirect-->
                            <div class="form-group setting">
                                <div class="row">
                                    <div class="col-md-4 ">
                                        <div>
                                            <label class="control-label">1. {{resource['slb-rule']['slb_rule_operationLogApp_redirect']['new']['title']}}</label>
                                            <i class="fa fa-question-circle-o" title="帮助"
                                               ng-click="viewDoc('condition-redirect')"></i>
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <button type="button"
                                                ng-click="addRedirect()"
                                                class="pull-left btn btn-little btn-info " style="margin-bottom: 5px"
                                                title="{{resource['slb-rule']['slb_rule_operationLogApp_redirect']['new']['op']}}"
                                                aria-label="Left Align"><span class="fa fa-plus">{{resource['slb-rule']['slb_rule_operationLogApp_redirect']['new']['op']}}</span>
                                        </button>
                                        <table class="table table-bordered" ng-show="showRedirect()">
                                            <thead>
                                            <tr>
                                                <th style="width: 50%;">{{resource['slb-rule']['slb_rule_operationLogApp_redirect']['new']['targeturl']}}</th>
                                                <th style="width: 25%;">{{resource['slb-rule']['slb_rule_operationLogApp_redirect']['new']['condition']}}</th>
                                                <th>{{resource['slb-rule']['slb_rule_operationLogApp_redirect']['new']['code']}}</th>
                                                <th>{{resource['slb-rule']['slb_rule_operationLogApp_redirect']['new']['operation']}}</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr data-ng-repeat="added in redirects">
                                                <td>
                                                    <input type="text" class="form-control" data-ng-model="added.target"
                                                           ng-disabled="added.isnewlyadded==false"
                                                           ng-change="changeRedirect()"/>
                                                </td>
                                                <td>
                                                    <input class="form-control"
                                                           data-ng-model="added.condition"
                                                           ng-disabled="added.isnewlyadded==false"
                                                           ng-change="changeRedirect()"/>
                                                </td>
                                                <td>
                                                    <input type="number"
                                                           class="form-control"
                                                           data-ng-model="added.code"
                                                           ng-disabled="added.isnewlyadded==false"
                                                           ng-change="changeRedirect()"/>
                                                </td>
                                                <td style="text-align: center; vertical-align: middle">
                                                    <button ng-show="showEditRedirectBt(added.editable, added.isnewlyadded)"
                                                            type="button"
                                                            class=" btn btn-little btn-info"
                                                            ng-click="editRedirect($index)"
                                                            title="edit"
                                                            aria-label="Left Align"><span class="fa fa-edit"></span>
                                                    </button>

                                                    <button ng-show="showRemoveRedirectBt(added.editable)"
                                                            type="button"
                                                            class="btn-op btn-little btn btn-danger"
                                                            ng-click="removeRedirect($index)"
                                                            title="delete"
                                                            aria-label="Left Align"><span class="fa fa-minus"></span>
                                                    </button>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <h4 class="big-header">{{resource['slb-rule']['slb_rule_operationLogApp_lua']['title']}}</h4>
                            <!--Access By Lua-->
                            <div class="form-group setting">
                                <div class="row">
                                    <div class="col-md-4 ">
                                        <div>
                                            <label for="access-by-lua" class="control-label">1. {{resource['slb-rule']['slb_rule_operationLogApp_lua']['accessbylua']}}</label>
                                            <i class="fa fa-question-circle-o" title="帮助"
                                               ng-click="viewDoc('access-by-lua')"></i>
                                        </div>
                                    </div>

                                    <div class="col-md-2">
                                        <div class="pull-left" ng-show="!showSetting('access-by-lua')">
                                            <span class="breakcontext"
                                                  ng-bind-html="getParentMaxSetting('access-by-lua','lua-command','')"></span>
                                            <i title="点此查看所有配置来源"
                                               ng-click="toggleSettingTarget('toggleAccessByLua','access-by-lua','lua-command')"
                                               style="cursor: pointer" class="fa fa-question-circle"
                                               aria-hidden="true"></i>
                                        </div>
                                        <div class="pull-left" ng-show="showSetting('access-by-lua')">
                                             <textarea cols="50"
                                                       id="access-by-lua"
                                                       class="form-control"
                                                       name="accessbylua"
                                                       ng-model="pagerules['access-by-lua'][0]['value']['lua-command']"
                                                       required>
                                             </textarea>
                                        </div>
                                    </div>

                                    <!--Config not using config or self-->
                                    <div class="col-md-1 config-vl">
                                        <div class="pull-right">
                                            <a title="点此为当前Group配置" class="badge bg-info"
                                               ng-show="!showSetting('access-by-lua')"
                                               ng-click="toggleParentArea('access-by-lua')">
                                                <span class="fa fa-pencil-square-o"></span>
                                            </a>

                                            <a title="点此为回退配置" class="badge bg-warning"
                                               ng-show="showSetting('access-by-lua')"
                                               ng-click="toggleRedo('access-by-lua')">
                                                <span class="fa fa-undo"></span>
                                            </a>

                                            <a title="点此删除当前rule" class="badge bg-danger"
                                               ng-show="showDeleteCurrentRule('access-by-lua')"
                                               ng-click="deleteCurrentRule('access-by-lua')">
                                                <span class="fa fa-minus"></span>
                                            </a>

                                        </div>
                                    </div>


                                    <div class="col-md-2"
                                         ng-bind-html="configTarget('access-by-lua')">
                                    </div>

                                    <div class="col-md-3">
                                         <span class="status-red pull-left"
                                               ng-show="myForm.accessbylua.$error.required && showConfigArea('access-by-lua')">
                                             *内容必须
                                         </span>
                                    </div>
                                </div>

                                <div class="row source-table" ng-show="query.toggleShowAll || query.toggleAccessByLua">
                                    <div class="col-md-4">
                                    </div>
                                    <div class="col-md-4">
                                        <table class="table table-bordered">
                                            <thead>
                                            <td>{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['值']}}</td>
                                            <td>{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['配置来源']}}</td>
                                            </thead>
                                            <tbody>
                                            <tr data-ng-repeat="(k,v) in parentRules['access-by-lua']">
                                                <td>{{k?k:'未配置'}}</td>
                                                <td>
                                                    <div data-ng-repeat="item in v">
                                                        <span ng-bind-html="getItemSrc(item)"></span>
                                                    </div>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>

                            <!--Rewrite By Lua-->
                            <div class="form-group setting">
                                <div class="row">
                                    <div class="col-md-4 ">
                                        <div>
                                            <label for="rewrite-by-lua" class="control-label">2. {{resource['slb-rule']['slb_rule_operationLogApp_lua']['rewritebylua']}}</label>
                                            <i class="fa fa-question-circle-o" title="帮助"
                                               ng-click="viewDoc('rewrite-by-lua')"></i>
                                        </div>
                                    </div>

                                    <div class="col-md-2">
                                        <div class="pull-left" ng-show="!showSetting('rewrite-by-lua')">
                                            <span class="breakcontext"
                                                  ng-bind-html="getParentMaxSetting('rewrite-by-lua','lua-command','')"></span>
                                            <i title="点此查看所有配置来源"
                                               ng-click="toggleSettingTarget('toggleRewriteByLua','rewrite-by-lua','lua-command')"
                                               style="cursor: pointer" class="fa fa-question-circle"
                                               aria-hidden="true"></i>
                                        </div>
                                        <div class="pull-left" ng-show="showSetting('rewrite-by-lua')">
                                             <textarea cols="50"
                                                       id="rewrite-by-lua"
                                                       class="form-control"
                                                       name="rewritebylua"
                                                       ng-model="pagerules['rewrite-by-lua'][0]['value']['lua-command']"
                                                       required>
                                             </textarea>
                                        </div>
                                    </div>

                                    <!--Config not using config or self-->
                                    <div class="col-md-1 config-vl">
                                        <div class="pull-right">
                                            <a title="点此为当前Group配置" class="badge bg-info"
                                               ng-show="!showSetting('rewrite-by-lua')"
                                               ng-click="toggleParentArea('rewrite-by-lua')">
                                                <span class="fa fa-pencil-square-o"></span>
                                            </a>

                                            <a title="点此为回退配置" class="badge bg-warning"
                                               ng-show="showSetting('rewrite-by-lua')"
                                               ng-click="toggleRedo('rewrite-by-lua')">
                                                <span class="fa fa-undo"></span>
                                            </a>

                                            <a title="点此删除当前rule" class="badge bg-danger"
                                               ng-show="showDeleteCurrentRule('rewrite-by-lua')"
                                               ng-click="deleteCurrentRule('rewrite-by-lua')">
                                                <span class="fa fa-minus"></span>
                                            </a>

                                        </div>
                                    </div>


                                    <div class="col-md-2"
                                         ng-bind-html="configTarget('rewrite-by-lua')">
                                    </div>

                                    <div class="col-md-3">
                                         <span class="status-red pull-left"
                                               ng-show="myForm.rewritebylua.$error.required && showConfigArea('rewrite-by-lua')">
                                             *内容必须
                                         </span>
                                    </div>
                                </div>

                                <div class="row source-table" ng-show="query.toggleShowAll || query.toggleRewriteByLua">
                                    <div class="col-md-4">
                                    </div>
                                    <div class="col-md-4">
                                        <table class="table table-bordered">
                                            <thead>
                                            <td>{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['值']}}</td>
                                            <td>{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['配置来源']}}</td>
                                            </thead>
                                            <tbody>
                                            <tr data-ng-repeat="(k,v) in parentRules['rewrite-by-lua']">
                                                <td>{{k?k:'未配置'}}</td>
                                                <td>
                                                    <div data-ng-repeat="item in v">
                                                        <span ng-bind-html="getItemSrc(item)"></span>
                                                    </div>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>

                            <!--Set By Lua-->
                            <div class="form-group setting">
                                <div class="row">
                                    <div class="col-md-4 ">
                                        <div>
                                            <label class="control-label">3. {{resource['slb-rule']['slb_rule_operationLogApp_lua']['setbylua']['title']}}</label>
                                            <i class="fa fa-question-circle-o" title="帮助"
                                               ng-click="viewDoc('set-by-lua')"></i>
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <button type="button"
                                                ng-click="addLua()"
                                                class="pull-left btn btn-little btn-info " style="margin-bottom: 5px"
                                                title="{{resource['slb-rule']['slb_rule_operationLogApp_lua']['setbylua']['op']}}"
                                                aria-label="Left Align"><span class="fa fa-plus">{{resource['slb-rule']['slb_rule_operationLogApp_lua']['setbylua']['op']}}</span>
                                        </button>
                                        <table class="table table-bordered" ng-show="showSetLuas()">
                                            <thead>
                                            <tr>
                                                <th>{{resource['slb-rule']['slb_rule_operationLogApp_lua']['setbylua']['vaname']}}</th>
                                                <th>{{resource['slb-rule']['slb_rule_operationLogApp_lua']['setbylua']['luacmd']}}</th>
                                                <th style="width: 10%;">{{resource['slb-rule']['slb_rule_operationLogApp_lua']['setbylua']['operation']}}</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr data-ng-repeat="added in setLuas">
                                                <td>
                                                    <input type="text" class="form-control" data-ng-model="added.key"
                                                           ng-disabled="added.isnewlyadded==false"
                                                           ng-change="changeSetLua()"/>
                                                </td>
                                                <td>
                                                    <textarea type="text" class="form-control"
                                                              data-ng-model="added.value"
                                                              ng-disabled="added.isnewlyadded==false"
                                                              ng-change="changeSetLua()"></textarea>
                                                </td>
                                                <td style="text-align: center; vertical-align: middle">
                                                    <button ng-show="showEditLuaBt(added.editable, added.isnewlyadded)"
                                                            type="button"
                                                            class=" btn btn-little btn-info"
                                                            ng-click="editSetLua($index)"
                                                            title="edit"
                                                            aria-label="Left Align"><span class="fa fa-edit"></span>
                                                    </button>


                                                    <button ng-show="showRemoveSetLuaBt(added.editable)" type="button"
                                                            class=" btn btn-little btn-danger"
                                                            ng-click="removeSetLua($index)"
                                                            title="delete"
                                                            aria-label="Left Align"><span class="fa fa-minus"></span>
                                                    </button>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>


                        <div class="row">
                            <h4 class="big-header">{{resource['slb-rule']['slb_rule_operationLogApp_accesslog']['title']}}</h4>
                            <!--Error page-->
                            <div class="form-group setting">
                                <div class="row">
                                    <div class="col-md-4">
                                        <div>
                                            <label class="control-label">1. {{resource['slb-rule']['slb_rule_operationLogApp_accesslog']['cookieenable']}}</label>
                                            <i class="fa fa-question-circle-o" title="帮助"
                                               ng-click="viewDoc('log-set-cookie-value')"></i>
                                        </div>
                                    </div>

                                    <div class="col-md-2">
                                        <div class="pull-left"
                                             ng-show="getParentEnable('log-set-cookie-value').length>1">
                                            <span class="breakcontext">状态配置不一致</span>
                                            <i title="点此查看所有配置来源"
                                               ng-click="toggleSettingTarget('toggleSetCookieEnable','log-set-cookie-value','enabled')"
                                               style="cursor: pointer" class="fa fa-question-circle"
                                               aria-hidden="true"></i>
                                        </div>

                                        <div class="pull-left"
                                             ng-show="getParentEnable('log-set-cookie-value').length==1 || showEnableSetting('log-set-cookie-value')">
                                            <i id=""
                                               ng-class="getEnableClass('log-set-cookie-value')"
                                               ng-click="toggleEnabled('log-set-cookie-value')"></i>
                                        </div>
                                    </div>

                                    <div class="col-md-1 config-vl">
                                        <div class="pull-right">
                                            <a title="点此为当前Group配置" class="badge bg-info"
                                               ng-show="!showSetting('log-set-cookie-value')"
                                               ng-click="toggleParentArea('log-set-cookie-value')">
                                                <span class="fa fa-pencil-square-o"></span>
                                            </a>

                                            <a title="点此为回退配置" class="badge bg-warning"
                                               ng-show="showSetting('log-set-cookie-value')"
                                               ng-click="toggleRedo('log-set-cookie-value')">
                                                <span class="fa fa-undo"></span>
                                            </a>

                                            <a title="点此删除当前rule" class="badge bg-danger"
                                               ng-show="showDeleteCurrentRule('log-set-cookie-value')"
                                               ng-click="deleteCurrentRule('log-set-cookie-value')">
                                                <span class="fa fa-minus"></span>
                                            </a>

                                        </div>

                                    </div>

                                    <div class="col-md-3"
                                         ng-bind-html="configTarget('log-set-cookie-value')"></div>
                                </div>

                                <div class="row source-table" ng-show="query.toggleShowAll || query.toggleSetCookie">
                                    <div class="col-md-4">
                                    </div>
                                    <div class="col-md-4">
                                        <table class="table table-bordered">
                                            <thead>
                                            <td>{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['值']}}</td>
                                            <td>{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['配置来源']}}</td>
                                            </thead>
                                            <tbody>
                                            <tr data-ng-repeat="(k,v) in parentRules['log-set-cookie-value']">
                                                <td>{{k==true?"打开":"关闭"}}</td>
                                                <td>
                                                    <div data-ng-repeat="item in v">
                                                        <span ng-bind-html="getItemSrc(item)"></span>
                                                    </div>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>

                            <!--Page id-->
                            <div class="form-group setting">
                                <div class="row">
                                    <div class="col-md-4">
                                        <div>
                                            <label class="control-label">2. {{resource['slb-rule']['slb_rule_operationLogApp_accesslog']['pageidenable']}}</label>
                                            <i class="fa fa-question-circle-o" title="帮助"
                                               ng-click="viewDoc('page-id')"></i>
                                        </div>
                                    </div>

                                    <div class="col-md-2">
                                        <div class="pull-left"
                                             ng-show="getParentEnable('page-id').length>1">
                                            <span class="breakcontext">状态配置不一致</span>
                                            <i title="点此查看所有配置来源"
                                               ng-click="toggleSettingTarget('togglePageIdEnable','page-id','enabled')"
                                               style="cursor: pointer" class="fa fa-question-circle"
                                               aria-hidden="true"></i>
                                        </div>

                                        <div class="pull-left"
                                             ng-show="getParentEnable('page-id').length==1 || showEnableSetting('page-id')">
                                            <i ng-class="getEnableClass('page-id')"
                                               ng-click="toggleEnabled('page-id')"></i>
                                        </div>
                                    </div>

                                    <div class="col-md-1 config-vl">
                                        <div class="pull-right">
                                            <a title="点此为当前Group配置" class="badge bg-info"
                                               ng-show="!showSetting('page-id')"
                                               ng-click="toggleParentArea('page-id')">
                                                <span class="fa fa-pencil-square-o"></span>
                                            </a>

                                            <a title="点此为回退配置" class="badge bg-warning"
                                               ng-show="showSetting('page-id')"
                                               ng-click="toggleRedo('page-id')">
                                                <span class="fa fa-undo"></span>
                                            </a>

                                            <a title="点此删除当前rule" class="badge bg-danger"
                                               ng-show="showDeleteCurrentRule('page-id')"
                                               ng-click="deleteCurrentRule('page-id')">
                                                <span class="fa fa-minus"></span>
                                            </a>

                                        </div>

                                    </div>

                                    <div class="col-md-3"
                                         ng-bind-html="configTarget('page-id')"></div>
                                </div>

                                <div class="row source-table" ng-show="query.toggleShowAll || query.togglePageIdEnable">
                                    <div class="col-md-4">
                                    </div>
                                    <div class="col-md-4">
                                        <table class="table table-bordered">
                                            <thead>
                                            <td>{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['值']}}</td>
                                            <td>{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['配置来源']}}</td>
                                            </thead>
                                            <tbody>
                                            <tr data-ng-repeat="(k,v) in parentRules['page-id']">
                                                <td>{{k==true?"打开":"关闭"}}</td>
                                                <td>
                                                    <div data-ng-repeat="item in v">
                                                        <span ng-bind-html="getItemSrc(item)"></span>
                                                    </div>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>

                            <!--Header Size-->
                            <div class="form-group setting">
                                <div class="row">
                                    <div class="col-md-4">
                                        <div>
                                            <label class="control-label">3. {{resource['slb-rule']['slb_rule_operationLogApp_accesslog']['headersizeenable']['title']}}</label>

                                            <i class="fa fa-question-circle-o" title="帮助"
                                               ng-click="viewDoc('log-large-header-size')"></i>
                                        </div>
                                    </div>

                                    <div class="col-md-2">
                                        <div class="pull-left"
                                             ng-show="getParentEnable('log-large-header-size').length>1">
                                            <span class="breakcontext">状态配置不一致</span>
                                            <i title="点此查看所有配置来源"
                                               ng-click="toggleSettingTarget('toggleHeaderSize','header-size-enabled','enabled')"
                                               style="cursor: pointer" class="fa fa-question-circle"
                                               aria-hidden="true"></i>
                                        </div>

                                        <div class="pull-left"
                                             ng-show="getParentEnable('log-large-header-size').length==1 || showEnableSetting('log-large-header-size')">
                                            <i id="header-size-enabled" ng-class="getEnableClass('log-large-header-size')"
                                               ng-click="toggleEnabled('log-large-header-size')"></i>
                                        </div>
                                    </div>

                                    <div class="col-md-1 config-vl">
                                        <div class="pull-right">
                                            <a title="点此为当前Group配置" class="badge bg-info"
                                               ng-show="!showSetting('log-large-header-size')"
                                               ng-click="toggleParentArea('log-large-header-size')">
                                                <span class="fa fa-pencil-square-o"></span>
                                            </a>

                                            <a title="点此为回退配置" class="badge bg-warning"
                                               ng-show="showSetting('log-large-header-size')"
                                               ng-click="toggleRedo('log-large-header-size')">
                                                <span class="fa fa-undo"></span>
                                            </a>

                                            <a title="点此删除当前rule" class="badge bg-danger"
                                               ng-show="showDeleteCurrentRule('log-large-header-size')"
                                               ng-click="deleteCurrentRule('log-large-header-size')">
                                                <span class="fa fa-minus"></span>
                                            </a>

                                        </div>

                                    </div>

                                    <div class="col-md-3" ng-bind-html="configTarget('log-large-header-size')"></div>
                                </div>

                                <div class="row sub-list" ng-show="showEnabledConfigures('log-large-header-size')">

                                    <div class="inner-setting col-md-12">
                                        <div class="col-md-4">
                                            <label style="margin-left: 10px" class="control-label">a) {{resource['slb-rule']['slb_rule_operationLogApp_accesslog']['headersizeenable']['detail']}}</label>
                                        </div>

                                        <div class="col-md-3">
                                            <i ng-class="getEnableBigHeaderRecord('log-large-header-size')"
                                               ng-click="toggleBigHeaderRecord('log-large-header-size')"></i>
                                        </div>
                                        <div class="col-md-5"></div>
                                    </div>

                                    <!--Large Header Size-->
                                    <div class="inner-setting col-md-12">
                                        <div class="col-md-4">
                                            <label style="margin-left: 10px" class="control-label">b) {{resource['slb-rule']['slb_rule_operationLogApp_accesslog']['headersizeenable']['max']}}</label>
                                        </div>

                                        <div class="col-md-3">
                                            <div ng-show="showSetting('log-large-header-size')" class="list-style">
                                                <input type="text"
                                                       name="max-size"
                                                       class="form-control input-setting"
                                                       ng-model="pagerules['log-large-header-size'][0]['value']['header-size-integer']"
                                                       required/>
                                                <span class="unit">
                                                     (K)
                                                </span>
                                            </div>

                                            <div class="config-vl" ng-show="!showSetting('log-large-header-size')">
                                                <div class="pull-left">
                                                    <span class="breakcontext"
                                                          ng-bind-html="getParentMaxSetting('log-large-header-size','header-size-integer','')"></span>(k)
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-md-2"></div>
                                        <div class="col-md-3">
                                            <div class="status-red" ng-show="myForm['max-size'].$error.required">
                                                *{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['必须。默认']}}: {{config['log-large-header-size']['header-size-integer']['default']}}
                                            </div>

                                            <div class="status-red"
                                                 ng-show="showSizeError('log-large-header-size',
                                                  'header-size-integer',config['log-large-header-size']['header-size-integer']['max'],config['log-large-header-size']['header-size-integer']['min'])">
                                                *范围: {{getMaxRestriction(config['log-large-header-size']['header-size-integer']['max'],
                                                config['log-large-header-size']['header-size-integer']['min'])}}
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row source-table" ng-show="query.toggleShowAll || query.toggleHeaderSize">
                                    <div class="col-md-4">
                                    </div>
                                    <div class="col-md-4">
                                        <table class="table table-bordered">
                                            <thead>
                                            <td>{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['值']}}</td>
                                            <td>{{resource['slb-rule']['slb_rule_operationLogApp_configtable']['配置来源']}}</td>
                                            </thead>
                                            <tbody>
                                            <tr data-ng-repeat="(k,v) in parentRules['log-large-header-size']">
                                                <td>{{(k==true || k=="true")?"打开":"关闭"}}</td>
                                                <td>
                                                    <div data-ng-repeat="item in v">
                                                        <span ng-bind-html="getItemSrc(item)"></span>
                                                    </div>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>


                        <div class="row">
                            <h4 class="big-header">{{resource['slb-rule']['slb_rule_operationLogApp_addrequestheader']['title']}}</h4>
                            <!--Add Response Header-->
                            <div class="form-group setting">
                                <div class="row">
                                    <div class="col-md-4 ">
                                        <div>
                                            <label class="control-label">1. {{resource['slb-rule']['slb_rule_operationLogApp_addrequestheader']['add']['title']}}</label>
                                            <i class="fa fa-question-circle-o" title="帮助"
                                               ng-click="viewDoc('set-request-header')"></i>
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <button type="button"
                                                ng-click="addRequestHeader()"
                                                class="pull-left btn btn-little btn-info " style="margin-bottom: 5px"
                                                title="{{resource['slb-rule']['slb_rule_operationLogApp_addrequestheader']['add']['op']}}"
                                                aria-label="Left Align"><span class="fa fa-plus">{{resource['slb-rule']['slb_rule_operationLogApp_addrequestheader']['add']['op']}}</span>
                                        </button>
                                        <table class="table table-bordered" ng-show="showAddRequestHeaders()">
                                            <thead>
                                            <tr>
                                                <th>{{resource['slb-rule']['slb_rule_operationLogApp_addrequestheader']['add']['headername']}}</th>
                                                <th>{{resource['slb-rule']['slb_rule_operationLogApp_addrequestheader']['add']['headervalue']}}</th>
                                                <th style="width: 10%;">{{resource['slb-rule']['slb_rule_operationLogApp_addrequestheader']['add']['Operation']}}</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr data-ng-repeat="added in addedRequestHeders">
                                                <td>
                                                    <input type="text" class="form-control" data-ng-model="added.key"
                                                           ng-disabled="added.isnewlyadded==false"
                                                           ng-change="changeAddedRequestHeader()"/>
                                                </td>
                                                <td>
                                                    <input class="form-control"
                                                           data-ng-model="added.value"
                                                           ng-disabled="added.isnewlyadded==false"
                                                           ng-change="changeAddedRequestHeader()"/>
                                                </td>
                                                <td style="text-align: center; vertical-align: middle">
                                                    <button ng-show="showEditAddRequestHeaderBt(added.editable, added.isnewlyadded)"
                                                            type="button"
                                                            class=" btn btn-little btn-info"
                                                            ng-click="editAddedRequestHeader($index)"
                                                            title="edit"
                                                            aria-label="Left Align"><span class="fa fa-edit"></span>
                                                    </button>


                                                    <button ng-show="showRemoveAddRequestHeaderBt(added.editable)"
                                                            type="button"
                                                            class=" btn btn-little btn-danger"
                                                            ng-click="removeAddRequestHeader($index)"
                                                            title="delete"
                                                            aria-label="Left Align"><span class="fa fa-minus"></span>
                                                    </button>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <h4 class="big-header">{{resource['slb-rule']['slb_rule_operationLogApp_addresponseheader']['title']}}</h4>
                            <!--Add Response Header-->
                            <div class="form-group setting">
                                <div class="row">
                                    <div class="col-md-4 ">
                                        <div>
                                            <label class="control-label">1. {{resource['slb-rule']['slb_rule_operationLogApp_addresponseheader']['add']['title']}}</label>
                                            <i class="fa fa-question-circle-o" title="帮助"
                                               ng-click="viewDoc('add-header')"></i>
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <button type="button"
                                                ng-click="addHeader()"
                                                class="pull-left btn btn-little btn-info " style="margin-bottom: 5px"
                                                title="{{resource['slb-rule']['slb_rule_operationLogApp_addresponseheader']['add']['op']}}"
                                                aria-label="Left Align"><span class="fa fa-plus">{{resource['slb-rule']['slb_rule_operationLogApp_addresponseheader']['add']['op']}}</span>
                                        </button>
                                        <table class="table table-bordered" ng-show="showAddHeaders()">
                                            <thead>
                                            <tr>
                                                <th>{{resource['slb-rule']['slb_rule_operationLogApp_addresponseheader']['add']['headername']}}</th>
                                                <th>{{resource['slb-rule']['slb_rule_operationLogApp_addresponseheader']['add']['headervalue']}}</th>
                                                <th style="width: 10%;">{{resource['slb-rule']['slb_rule_operationLogApp_addresponseheader']['add']['Operation']}}</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr data-ng-repeat="added in addedHeders">
                                                <td>
                                                    <input type="text" class="form-control" data-ng-model="added.key"
                                                           ng-disabled="added.isnewlyadded==false"
                                                           ng-change="changeAddedHeader()"/>
                                                </td>
                                                <td>
                                                    <input class="form-control"
                                                           data-ng-model="added.value"
                                                           ng-disabled="added.isnewlyadded==false"
                                                           ng-change="changeAddedHeader()"/>
                                                </td>
                                                <td style="text-align: center; vertical-align: middle">
                                                    <button ng-show="showEditAddHeaderBt(added.editable, added.isnewlyadded)"
                                                            type="button"
                                                            class=" btn btn-little btn-info"
                                                            ng-click="editAddedHeader($index)"
                                                            title="edit"
                                                            aria-label="Left Align"><span class="fa fa-edit"></span>
                                                    </button>


                                                    <button ng-show="showRemoveAddHeaderBt(added.editable)"
                                                            type="button"
                                                            class=" btn btn-little btn-danger"
                                                            ng-click="removeAddHeader($index)"
                                                            title="delete"
                                                            aria-label="Left Align"><span class="fa fa-minus"></span>
                                                    </button>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>

                            <!--Hide Response Header-->
                            <div class="form-group setting">
                                <div class="row">
                                    <div class="col-md-4 ">
                                        <div>
                                            <label class="control-label">2. {{resource['slb-rule']['slb_rule_operationLogApp_addresponseheader']['hide']['title']}}</label>
                                            <i class="fa fa-question-circle-o" title="帮助"
                                               ng-click="viewDoc('hide-header')"></i>
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <button type="button"
                                                ng-click="addHideHeader()"
                                                class="pull-left btn btn-little btn-info " style="margin-bottom: 5px"
                                                title="{{resource['slb-rule']['slb_rule_operationLogApp_addresponseheader']['hide']['op']}}"
                                                aria-label="Left Align"><span class="fa fa-plus">{{resource['slb-rule']['slb_rule_operationLogApp_addresponseheader']['hide']['op']}}</span>
                                        </button>
                                        <table class="table table-bordered" ng-show="showHideHeaders()">
                                            <thead>
                                            <tr>
                                                <th>{{resource['slb-rule']['slb_rule_operationLogApp_addresponseheader']['hide']['headername']}}</th>
                                                <th style="width: 10%;">{{resource['slb-rule']['slb_rule_operationLogApp_addresponseheader']['hide']['Operation']}}</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr data-ng-repeat="added in hideHeaders">
                                                <td>
                                                    <input type="text" class="form-control" data-ng-model="added.key"
                                                           ng-disabled="added.isnewlyadded==false"
                                                           ng-change="changeHideHeader()"/>
                                                </td>

                                                <td style="text-align: center; vertical-align: middle">
                                                    <button ng-show="showEditHideHeaderBt(added.editable, added.isnewlyadded)"
                                                            type="button"
                                                            class=" btn btn-little btn-info"
                                                            ng-click="editHideHeader($index)"
                                                            title="edit"
                                                            aria-label="Left Align"><span class="fa fa-edit"></span>
                                                    </button>


                                                    <button ng-show="showRemoveHideHeaderBt(added.editable)"
                                                            type="button"
                                                            class=" btn btn-little btn-danger"
                                                            ng-click="removeHideHeader($index)"
                                                            title="delete"
                                                            aria-label="Left Align"><span class="fa fa-minus"></span>
                                                    </button>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>

            <div class="row save-buttons">
                <div class="col-md-9">
                    <div ng-show="showChangeRule()"
                         class="status-red pull-right">
                        您还没有修改RULE的权限，请<a style="font-weight: bold" ng-click="getAuthLink()">
                        点此</a>申请。
                    </div>
                </div>

                <div class="col-md-3">

                    <a class="btn btn-info pull-right" role="button"
                       ng-click="saveSettings()"
                       ng-disabled="disableSaving()"><span
                            style="margin-left: 5px" class="fa fa-check">{{resource['slb-rule']['save']}}</span></a>
                    <a class="btn btn-info pull-right" style="margin-left: 20px" role="button"
                       ng-show="showActivateBt()"
                       ng-click="activateRule()">
                        <i class="fa fa-hand-o-right">{{resource['slb-rule']['activate']}}</i>
                    </a>

                </div>
            </div>

            <div class="modals">
                <div class="modal fade" id="revertResultModel" role="dialog">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                                <h4 class="modal-title">回退进度</h4>
                            </div>
                            <div class="modal-body">
                                <div class="status-green" ng-if="revertResult.code==200">
                                    <h4>回退成功。 注意：版本回退完成后需激活后下能生效<i class="fa fa-check" style="padding-left: 10px"></i>
                                    </h4>
                                </div>

                                <div class="status-red" ng-if="revertResult.code!=200">
                                    <h4>回退失败, 错误码: {{revertResult.code}}<i class="fa fa-times"
                                                                           style="padding-left: 10px"></i></h4>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-info" ng-click="reloadPage()"
                                        data-dismiss="modal">关闭
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="modal fade" id="revertCompareModel" role="dialog">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                                <h4 class="modal-title">确认回退</h4>
                            </div>
                            <div class="modal-body">
                                <form id='ruleDiffForm'>
                                    <div id="ruleDiffOutput"></div>
                                </form>
                            </div>

                            <div class="modal-footer">
                                <button class="btn confirm-bt btn-info" data-toggle="modal"
                                        data-dismiss="modal"
                                        ng-click="doubleConfirmRevert()"
                                        ng-show="showDoubleConfirmRevert()">
                                    确认回退
                                </button>

                                <span ng-show="!showDoubleConfirmRevert()" class="status-red">
                                    您当前没有激活权限，请<a ng-click="applyGroupUpdateRequest()">点此</a>申请
                                </span>
                                <button class="btn btn-warning" data-dismiss="modal">取消</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="modal fade" id="revertModel" role="dialog">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                                <h4 class="modal-title">当前版本{{group['offline'].version}}, 请选择回退版本</h4>
                            </div>
                            <div class="modal-body">
                        <span ng-if="x!=0" data-ng-repeat="x in versions" class="label label-default version-class"
                              ng-class="versionClass(x)"
                              ng-click="toggleVersion(x)" id="historyVersion{{x}}">
                            {{x}}
                        </span>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-info" ng-click="confirmRevert()"
                                        data-dismiss="modal">回退
                                </button>
                                <button type="button" class="btn btn-warning"
                                        data-dismiss="modal">取消
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="activateGroupModal" class="modal fade" role="dialog" aria-hidden="true">
                    <div class="span12 modal-dialog fileDiffMainContainer">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h1 class='fileViewHead' ng-class="activateGroupTitleClass()">
                                {{confirmActivateText}}</h1>
                        </div>

                        <form id='fileDiffForm'>
                            <div id="diffOutput"></div>
                            <div class="btnDiv">
                                <button class="btn confirm-bt btn-info" data-toggle="modal"
                                        data-target="#confirmActivateGroup" data-dismiss="modal"
                                        ng-show="activateBtShow()">
                                    确认激活
                                </button>

                                <span ng-show="!activateBtShow()" class="status-red">
                                    您当前没有激活权限，请<a ng-click="applyGroupUpdateRequest()">点此</a>申请
                                </span>
                                <button class="btn btn-warning" data-dismiss="modal">取消</button>
                            </div>
                        </form>
                    </div>
                </div>

                <div class="modal fade" id="confirmActivateGroup" role="dialog">
                    <div class="modal-dialog">
                        <!-- Modal content-->
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                                <h4 class="modal-title">再次确认是否要激活</h4>
                            </div>
                            <div class="modal-body">
                                <span class="warning-important">激活Group会使Group的变动生效，生效后对Group的流量产生影响。请谨慎激活!</span>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-info" ng-click="activateGroup()"
                                        data-dismiss="modal">确认激活
                                </button>
                                <button type="button" class="btn btn-warning" data-dismiss="modal">取消</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="modal fade" id="confirmDeleteRule" role="dialog">
                    <div class="modal-dialog">
                        <!-- Modal content-->
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                                <h4 class="modal-title">确认删除当前规则</h4>
                            </div>
                            <div class="modal-body">
                                <span class="warning-important">删除当前规则后，当前Group将使用父节点、全局配置。请谨慎操作!</span>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-info" ng-click="confirmDeleteRule()"
                                        data-dismiss="modal">确认删除
                                </button>
                                <button type="button" class="btn btn-warning" data-dismiss="modal">取消</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="modal fade" id="operationConfrimModel" role="dialog">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                                <h4 class="modal-title">操作进度</h4>
                            </div>
                            <div class="modal-body">
                                <div ng-if="query.saveResult==true" class="status-green">
                                    回退成功 <i class="fa fa-check" style="padding-left: 10px"></i>
                                </div>

                                <div ng-if="query.saveResult['code']"
                                     class="status-red">
                                    回退失败<i class="fa fa-times" style="padding-left: 10px"></i>. 原因:
                                    {{query.saveResult['message']}}
                                </div>
                            </div>
                            <span class="timerspan"></span>

                            <div class="modal-footer">
                                <button type="button" class="btn btn-warning forceUpdateBt"
                                        ng-show="showForceUpdate"
                                        ng-click="forceActivateGroup()">强制操作
                                </button>

                                <button type="button" class="btn btn-info closeProgressWindowBt"
                                        data-dismiss="modal">
                                    关闭
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="modal fade" id="saveSettingsModel" role="dialog">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                                <h4 class="modal-title">操作进度</h4>
                            </div>
                            <div class="modal-body">
                                <div ng-show="showSuccessMsg()" class="status-green">
                                    操作成功 <i class="fa fa-check" style="padding-left: 10px"></i>
                                </div>

                                <div ng-show="!showSuccessMsg()"
                                     class="status-red">
                                    操作失败<i class="fa fa-times" style="padding-left: 10px"></i>. 原因:
                                    <div ng-bind-html="getErrorMsg()"></div>
                                </div>

                            </div>
                            <div class="modal-footer">
                                <button id="closeSaveBt" type="button" class="btn btn-info" ng-click="reloadPage()"
                                        data-dismiss="modal">关闭
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="modal fade" id="HelpModel" role="dialog">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                                <h4 class="modal-title">{{getHelpTitle()}}</h4>
                            </div>
                            <div class="modal-body">
                                <div ng-show="showHelp('client-max-body-size')">
                                    <div class="doc-area">
                                        <h4 class="doc-sub-title"><i class="fa fa-info-circle"></i>配置解释：</h4>
                                        <div class="doc-text">SLB对Request请求体大小默认有一定限制, 超过限制时会返回错误信息。</div>
                                    </div>

                                    <div class="doc-area">
                                        <div class="doc-sub-title">
                                            <i class="fa fa-info-circle"></i>规则:
                                        </div>
                                        <div class="doc-text">
                                            <ul>
                                                <li>
                                                    默认请求体大小为：<b class="status-red">
                                                    {{config['client-max-body-size']['default']}}MB</b>
                                                </li>

                                                <li>
                                                    请求体超过阈值时，客户端收到报错：413 (Request Entity Too Large)，请求不会转发至后端服务器。
                                                </li>
                                            </ul>
                                        </div>
                                    </div>

                                    <div class="doc-area">
                                        <div class="doc-sub-title">
                                            <i class="fa fa-info-circle"></i>配置方式:
                                            <a href="{{getHelpLink('client-max-body-size')}}"
                                               class="fa fa-hand-o-right">点此查看配置文档</a>
                                        </div>
                                    </div>
                                </div>
                                <div ng-show="showHelp('client-max-body-size')">
                                    <div class="doc-area">
                                        <h4 class="doc-sub-title"><i class="fa fa-info-circle"></i>配置解释：</h4>
                                        <div class="doc-text">SLB对Request请求体大小默认有一定限制, 超过限制时会返回错误信息。</div>
                                    </div>

                                    <div class="doc-area">
                                        <div class="doc-sub-title">
                                            <i class="fa fa-info-circle"></i>规则:
                                        </div>
                                        <div class="doc-text">
                                            <ul>
                                                <li>
                                                    默认请求体大小为：<b class="status-red">
                                                    {{config['client-max-body-size']['default']}}MB</b>
                                                </li>

                                                <li>
                                                    请求体超过阈值时，客户端收到报错：413 (Request Entity Too Large)，请求不会转发至后端服务器。
                                                </li>
                                            </ul>
                                        </div>
                                    </div>

                                    <div class="doc-area">
                                        <div class="doc-sub-title">
                                            <i class="fa fa-info-circle"></i>配置方式:
                                            <a href="{{getHelpLink('client-max-body-size')}}"
                                               class="fa fa-hand-o-right">点此查看配置文档</a>
                                        </div>
                                    </div>
                                </div>
                                <div ng-show="showHelp('log-large-header-size')">
                                    <div class="doc-area">
                                        <h4 class="doc-sub-title"><i class="fa fa-info-circle"></i>配置解释：</h4>
                                        <div class="doc-text">是否记录客户请求中的大请求头</div>
                                    </div>

                                    <div class="doc-area">
                                        <div class="doc-sub-title">
                                            <i class="fa fa-info-circle"></i>规则:
                                        </div>
                                        <div class="doc-text">
                                            <ul>
                                                <li>
                                                    当请求header超过指定大小是，记录header size到slb access日志中
                                                </li>
                                           </ul>
                                        </div>
                                    </div>

                                    <div class="doc-area">
                                        <div class="doc-sub-title">
                                            <i class="fa fa-info-circle"></i>配置方式:
                                            <a href="{{getHelpLink('log-large-header-size')}}"
                                               class="fa fa-hand-o-right">点此查看配置文档</a>
                                        </div>
                                    </div>
                                </div>
                                <div ng-show="showHelp('default-download-image')">
                                    <div class="doc-area">
                                        <h4 class="doc-sub-title"><i class="fa fa-info-circle"></i>配置解释：</h4>
                                        <div class="doc-text">是否开启Download Image测速</div>
                                    </div>

                                    <div class="doc-area">
                                        <div class="doc-sub-title">
                                            <i class="fa fa-info-circle"></i>规则:
                                        </div>
                                        <div class="doc-text">
                                            <ul>
                                                <li>
                                                    开启、关闭测速功能
                                                </li>
                                           </ul>
                                        </div>
                                    </div>

                                    <div class="doc-area">
                                        <div class="doc-sub-title">
                                            <i class="fa fa-info-circle"></i>配置方式:
                                            <a href="{{getHelpLink('default-download-image')}}"
                                               class="fa fa-hand-o-right">点此查看配置文档</a>
                                        </div>
                                    </div>
                                </div>
                                <div ng-show="showHelp('request-intercept-for-ip-black-list-rule')">
                                    <div class="doc-area">
                                        <h4 class="doc-sub-title"><i class="fa fa-info-circle"></i>配置解释：</h4>
                                        <div class="doc-text">是否开启IP拦截</div>
                                    </div>

                                    <div class="doc-area">
                                        <div class="doc-sub-title">
                                            <i class="fa fa-info-circle"></i>规则:
                                        </div>
                                        <div class="doc-text">
                                            <ul>
                                                <li>
                                                    公司反爬系统维护了一组公共的IP黑名单。应用可以根据自己应用的敏感性，自行决定是否开启对公共IP黑名单的拦截功能
                                                </li>
                                           </ul>
                                        </div>
                                    </div>

                                    <div class="doc-area">
                                        <div class="doc-sub-title">
                                            <i class="fa fa-info-circle"></i>配置方式:
                                            <a href="{{getHelpLink('request-intercept-for-ip-black-list-rule')}}"
                                               class="fa fa-hand-o-right">点此查看配置文档</a>
                                        </div>
                                    </div>
                                </div>
                                <div ng-show="showHelp('page-id')">
                                    <div class="doc-area">
                                        <h4 class="doc-sub-title"><i class="fa fa-info-circle"></i>配置解释：</h4>
                                        <div class="doc-text">是否开启记录Page Id规则 </div>
                                    </div>

                                    <div class="doc-area">
                                        <div class="doc-sub-title">
                                            <i class="fa fa-info-circle"></i>规则:
                                        </div>
                                        <div class="doc-text">
                                            <ul>
                                                <li>
                                                    开启、关闭记录Page Id到Access 日志中
                                                </li>
                                           </ul>
                                        </div>
                                    </div>

                                    <div class="doc-area">
                                        <div class="doc-sub-title">
                                            <i class="fa fa-info-circle"></i>配置方式:
                                            <a href="{{getHelpLink('page-id')}}"
                                               class="fa fa-hand-o-right">点此查看配置文档</a>
                                        </div>
                                    </div>
                                </div>
                                <div ng-show="showHelp('access-control')">
                                    <div class="doc-area">
                                        <h4 class="doc-sub-title"><i class="fa fa-info-circle"></i>配置解释：</h4>
                                        <div class="doc-text">是否开启记录访问白名单、黑名单规则 </div>
                                    </div>

                                    <div class="doc-area">
                                        <div class="doc-sub-title">
                                            <i class="fa fa-info-circle"></i>规则:
                                        </div>
                                        <div class="doc-text">
                                            <ul>
                                                <li>
                                                    设置当前域名的黑、白名单列表
                                                </li>
                                           </ul>
                                        </div>
                                    </div>

                                    <div class="doc-area">
                                        <div class="doc-sub-title">
                                            <i class="fa fa-info-circle"></i>配置方式:
                                            <a href="{{getHelpLink('access-control')}}"
                                               class="fa fa-hand-o-right">点此查看配置文档</a>
                                        </div>
                                    </div>
                                </div>
                                <div ng-show="showHelp('server-name-hash')">
                                    <div class="doc-area">
                                        <h4 class="doc-sub-title"><i class="fa fa-info-circle"></i>配置解释：</h4>
                                        <div class="doc-text">配置 Server Name Hash值 </div>
                                    </div>

                                    <div class="doc-area">
                                        <div class="doc-sub-title">
                                            <i class="fa fa-info-circle"></i>规则:
                                        </div>
                                        <div class="doc-text">
                                            <ul>
                                                <li>
                                                    配置 Server Name Hash值
                                                </li>
                                           </ul>
                                        </div>
                                    </div>

                                    <div class="doc-area">
                                        <div class="doc-sub-title">
                                            <i class="fa fa-info-circle"></i>配置方式:
                                            <a href="{{getHelpLink('server-name-hash')}}"
                                               class="fa fa-hand-o-right">点此查看配置文档</a>
                                        </div>
                                    </div>
                                </div>
                                <div ng-show="showHelp('proxy-read-timeout')">
                                    <div class="doc-area">
                                        <h4 class="doc-sub-title"><i class="fa fa-info-circle"></i>配置解释：</h4>
                                        <div class="doc-text">SLB对请求的响应时间默认有一定限制，超过SLB配置的超时时间时返回错误信息。</div>
                                    </div>

                                    <div class="doc-area">
                                        <div class="doc-sub-title">
                                            <i class="fa fa-info-circle"></i>规则：
                                        </div>
                                        <div class="doc-text">
                                            <ul>
                                                <li>
                                                    默认超时时间：<b class="status-red">
                                                    {{config['proxy-read-timeout']['default']}}s</b>
                                                </li>
                                                <li>
                                                    请求响应时间超过默认超时时间，客户端收到报错：504(Gateway Timeout),请求不会转发至后端服务器。
                                                </li>
                                            </ul>

                                        </div>
                                    </div>

                                    <div class="doc-area">
                                        <div class="doc-sub-title">
                                            <i class="fa fa-info-circle"></i>配置方式：<a
                                                href="{{getHelpLink('proxy-read-timeout')}}"
                                                class="fa fa-hand-o-right">点此查看配置文档</a>
                                        </div>

                                    </div>
                                </div>
                                <div ng-show="showHelp('client-body-buffer-size')">
                                    <div class="doc-area">
                                        <h4 class="doc-sub-title"><i class="fa fa-info-circle"></i>配置解释：</h4>
                                        <div class="doc-text">SLB对请求体的缓冲区大小有一定限制, 如果请求体超过缓冲区大小, 则完整请求体或其一部分将写入临时文件。
                                            如果配置太小，对于请求体较大的请求，请求响应时间会有影响。 请求体越大，影响越大。推荐使用默认配置16K。
                                        </div>
                                    </div>

                                    <div class="doc-area">
                                        <div class="doc-sub-title">
                                            <i class="fa fa-info-circle"></i>规则：
                                        </div>
                                        <div class="doc-text">
                                            <ul>
                                                <li>
                                                    在32位系统上默认是<b class="status-red">8k</b>
                                                </li>
                                                <li>
                                                    在64位系统上默认是<b class="status-red">16k</b>
                                                </li>
                                                <li>
                                                    当前系统默认值是<b class="status-red">
                                                    {{config['client-body-buffer-size']['default']}}k</b>
                                                </li>
                                                <li>
                                                    推荐使用默认配置<b class="status-red">16K</b>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>

                                    <div class="doc-area">
                                        <div class="doc-sub-title">
                                            <i class="fa fa-info-circle"></i>配置方式：<a
                                                href="{{getHelpLink('client-body-buffer-size')}}"
                                                class="fa fa-hand-o-right">点此查看配置文档</a>
                                        </div>
                                    </div>
                                </div>
                                <div ng-show="showHelp('request-id-enable')">
                                    <div class="doc-area">
                                        <h4 class="doc-sub-title"><i class="fa fa-info-circle"></i>配置解释：</h4>
                                        <div class="doc-text">用于SLB生成请求唯一标识ID并用于全链路监控项目。开启该功能会影响请求性能，默认关闭，按需开启。</div>
                                    </div>

                                    <div class="doc-area">
                                        <div class="doc-sub-title">
                                            <i class="fa fa-info-circle"></i>规则：
                                        </div>
                                        <div class="doc-text">
                                            <ul>
                                                <li>默认<b class="status-red">
                                                    {{config['request-id-enable']['default']?'打开':'关闭'}}</b></li>
                                                <li class="status-red">
                                                    请先联系SLB Team安装模块所依赖Lua组件
                                                </li>
                                                <li>
                                                    <a class="fa fa-hand-o-right" href="mailto:slb@test.com">联系SLB
                                                        Team</a>开启该功能。
                                                </li>
                                            </ul>
                                        </div>
                                    </div>

                                    <div class="doc-area">
                                        <div class="doc-sub-title">
                                            <i class="fa fa-info-circle"></i>配置方式：
                                            <a class="fa fa-hand-o-right" href="mailto:slb@test.com">联系SLB Team</a>
                                        </div>
                                    </div>
                                </div>
                                <div ng-show="showHelp('protocol-response-header')">
                                    <div class="doc-area">
                                        <h4 class="doc-sub-title"><i class="fa fa-info-circle"></i>配置解释：</h4>
                                        <div class="doc-text">添加HTTP协议版本的响应头，用于端到端监控HTTP版本的使用情况。</div>
                                    </div>

                                    <div class="doc-area">
                                        <div class="doc-sub-title">
                                            <i class="fa fa-info-circle"></i>规则：
                                        </div>
                                        <div class="doc-text">
                                            <ul>
                                                <li>默认<b class="status-red">
                                                    {{config['protocol-response-header']['default']?'打开':'关闭'}}</b></li>
                                                <li>
                                                    <a class="fa fa-hand-o-right" href="mailto:slb@test.com">联系SLB
                                                        Team</a>开启该功能。
                                                </li>
                                            </ul>
                                        </div>
                                    </div>

                                    <div class="doc-area">
                                        <div class="doc-sub-title">
                                            <i class="fa fa-info-circle"></i>配置方式：
                                            <a class="fa fa-hand-o-right" href="mailto:slb@test.com">联系SLB Team</a>。
                                        </div>
                                    </div>
                                </div>
                                <div ng-show="showHelp('gzip')">
                                    <div class="doc-area">
                                        <h4 class="doc-sub-title"><i class="fa fa-info-circle"></i>配置解释: </h4>
                                        <div class="doc-text">SLB对请求返回体进行Gzip压缩算法。</div>
                                    </div>

                                    <div class="doc-area">
                                        <div class="doc-sub-title">
                                            <i class="fa fa-info-circle"></i>规则：
                                        </div>
                                        <div class="doc-text">
                                            <ul>
                                                <li>

                                                    Content-Type：需要进行压缩的文件类型, 支持多种类型如: text/plain、
                                                    application/x-javascript、text/css、application/xml、text/javascript、
                                                    application/x-httpd-php、image/jpeg、image/gif、image/png
                                                    ；当配置多个Content-Type时Content-Type之间空格分开。
                                                    <div class="status-red">
                                                        默认:{{config['gzip']['types']['default']}}
                                                    </div>
                                                </li>
                                                <li>
                                                    压缩最小长度(Gzip Min Length): 不压缩临界值，即大于多大的才压缩，一般不用改。
                                                    <div class="status-red">
                                                        默认{{config['gzip']['min-length']['default']}}字节
                                                    </div>
                                                    <div class="status-red">
                                                        范围
                                                        {{getMaxRestriction(config['gzip']['min-length']['max'],
                                                        config['gzip']['min-length']['min'])}}
                                                    </div>
                                                </li>
                                                <li>
                                                    Gzip缓存区大小(Gzip Buffer Size): Gzip缓存区大小。
                                                    <div class="status-red">
                                                        {{getGzipBufferCountErrorHtml()}}
                                                    </div>

                                                    <div class="status-red">
                                                        {{getGzipBufferSizeErrorHtml()}}
                                                    </div>
                                                </li>
                                                <li>
                                                    压缩级别(Gzip Compress Level): 压缩级别，数字越大压缩的越好，时间也越长。

                                                    <div class="status-red">
                                                        默认{{config['gzip']['min-length']['default']}}
                                                    </div>

                                                    <div class="status-red">
                                                        范围: {{getMaxRestriction(config['gzip']['compress']['max'],
                                                        config['gzip']['compress']['min'])}}
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>

                                    <div class="doc-area">

                                        <div class="doc-sub-title">
                                            <i class="fa fa-info-circle"></i>配置方式：<a href="{{getHelpLink('gzip')}}"
                                                                                     class="fa fa-hand-o-right">点此查看配置文档</a>
                                        </div>
                                    </div>
                                </div>
                                <div ng-show="showHelp('upstream-keep-alive-count')">
                                    <div class="doc-area">
                                        <h4 class="doc-sub-title"><i class="fa fa-info-circle"></i>配置解释</h4>
                                        <div class="doc-text">slb跟后端连接的最大空闲连接数。当空闲连接大于这个数量时 SLB会主动关闭最长时间未使用的连接
                                        </div>
                                    </div>

                                    <div class="doc-area">
                                        <div class="doc-sub-title">
                                            <i class="fa fa-info-circle"></i>规则：
                                        </div>
                                        <div class="doc-text">
                                            <ul>
                                                <li>
                                                    默认值<b class="status-red">
                                                    {{config['upstream-keep-alive-count']['default']}}个</b>
                                                </li>
                                                <li>
                                                    范围: <b class="status-red">{{getMaxRestriction(config['upstream-keep-alive-count']['max'],
                                                    config['upstream-keep-alive-count']['min'])}}</b>
                                                </li>
                                            </ul>

                                        </div>
                                    </div>

                                    <div class="doc-area">
                                        <div class="doc-sub-title">
                                            <i class="fa fa-info-circle"></i>配置方式： <a
                                                href="{{getHelpLink('upstream-keep-alive-count')}}"
                                                class="fa fa-hand-o-right">点此查看配置文档</a>
                                        </div>
                                    </div>
                                </div>
                                <div ng-show="showHelp('upstream-keep-alive-timeout')">
                                    <div class="doc-area">
                                        <h4 class="doc-sub-title"><i class="fa fa-info-circle"></i>配置解释:</h4>
                                        <div class="doc-text">SLB默认开启后端长连接，SLB和后端长连接空闲超过预值，SLB关闭空闲连接。
                                        </div>
                                    </div>

                                    <div class="doc-area">
                                        <div class="doc-sub-title">
                                            <i class="fa fa-info-circle"></i>规则：
                                        </div>
                                        <div class="doc-text">
                                            <ul>
                                                <li>
                                                    默认值<b class="status-red">
                                                    {{config['upstream-keep-alive-timeout']['default']}}s</b>
                                                </li>
                                                <li>范围<b>{{getMaxRestriction(config['upstream-keep-alive-timeout']['max'],
                                                    config['upstream-keep-alive-timeout']['min'])}}</b></li>
                                            </ul>
                                        </div>
                                    </div>

                                    <div class="doc-area">
                                        <div class="doc-sub-title">
                                            <i class="fa fa-info-circle"></i>配置方式： <a
                                                href="{{getHelpLink('upstream-keep-alive-timeout')}}"
                                                class="fa fa-hand-o-right">点此查看配置文档</a>
                                        </div>
                                    </div>
                                </div>
                                <div ng-show="showHelp('condition-redirect')">
                                    <div class="doc-area">
                                        <h4 class="doc-sub-title"><i class="fa fa-info-circle"></i>配置解释:</h4>
                                        <div class="doc-text">SLB可以根据请求的Header、Cookie、Query配置选择性的301、302、307的跳转。</div>
                                    </div>

                                    <div class="doc-area">
                                        <div class="doc-sub-title">
                                            <i class="fa fa-info-circle"></i>规则：
                                        </div>
                                        <div class="doc-text">
                                            <ul>
                                                <li>
                                                    Condition配置：匹配的条件，当条件满足时执行对应的跳转。
                                                    <ul>
                                                        <li>
                                                            基于Header跳转。配置样例； $http_headerA = “Test” 或者正则模式 $http_headerA
                                                            ~“TestA|TestB”)
                                                        </li>
                                                        <li>
                                                            基于Cookie跳转： 配置样例：$cookie_cookieA = “Test”或者正则模式
                                                            $cookie_cookieA ~ “TestA|TestB”
                                                        </li>
                                                        <li>
                                                            基于Query跳转：配置样例：$arg_argA = “Test”或者正则模式 $ arg_argA ~
                                                            “TestA|TestB”
                                                        </li>
                                                    </ul>

                                                </li>

                                                <li>
                                                    Target 配置： 目标的Url地址。 可使用变量：$host $request_uri（不包含query）
                                                    $request_url(包含Query)

                                                    <ul>
                                                        <li>
                                                            样例：https://$host$request_uri
                                                        </li>
                                                    </ul>
                                                </li>

                                                <li>
                                                    Code配置：支持 301 302 307
                                                </li>
                                            </ul>
                                        </div>
                                    </div>

                                    <div class="doc-area">
                                        <div class="doc-sub-title">
                                            <i class="fa fa-info-circle"></i>配置方式： <a
                                                href="{{getHelpLink('condition-redirect')}}"
                                                class="fa fa-hand-o-right">点此查看配置文档</a>
                                        </div>
                                    </div>
                                </div>
                                <div ng-show="showHelp('access-by-lua')">
                                    <div class="doc-area">
                                        <h4 class="doc-sub-title"><i class="fa fa-info-circle"></i>配置解释:</h4>
                                        <div class="doc-text">自定义ACCESS阶段执行的LUA脚本。</div>
                                    </div>

                                    <div class="doc-area">
                                        <div class="doc-sub-title">
                                            <i class="fa fa-info-circle"></i>规则：
                                        </div>
                                        <div class="doc-text">
                                            <ul>
                                                <li>默认<b class="status-red">无</b></li>
                                            </ul>
                                        </div>
                                    </div>

                                    <div class="doc-area">
                                        <div class="doc-sub-title">
                                            <i class="fa fa-info-circle"></i>配置方式： <a
                                                href="{{getHelpLink('access-by-lua')}}"
                                                class="fa fa-hand-o-right">点此查看配置文档</a>
                                        </div>
                                    </div>
                                </div>
                                <div ng-show="showHelp('rewrite-by-lua')">
                                    <div class="doc-area">
                                        <h4 class="doc-sub-title"><i class="fa fa-info-circle"></i>配置解释:</h4>
                                        <div class="doc-text">自定义REWRITE阶段执行的LUA脚本。</div>
                                    </div>

                                    <div class="doc-area">
                                        <div class="doc-sub-title">
                                            <i class="fa fa-info-circle"></i>规则：
                                        </div>
                                        <div class="doc-text">
                                            <ul>
                                                <li>默认<b class="status-red">无</b></li>
                                            </ul>
                                        </div>
                                    </div>

                                    <div class="doc-area">
                                        <div class="doc-sub-title">
                                            <i class="fa fa-info-circle"></i>配置方式： <a
                                                href="{{getHelpLink('rewrite-by-lua')}}"
                                                class="fa fa-hand-o-right">点此查看配置文档</a>
                                        </div>
                                    </div>
                                </div>
                                <div ng-show="showHelp('set-by-lua')">
                                    <div class="doc-area">
                                        <h4 class="doc-sub-title"><i class="fa fa-info-circle"></i>配置解释:</h4>
                                        <div class="doc-text">使用LUA脚本设置变量。</div>
                                    </div>

                                    <div class="doc-area">
                                        <div class="doc-sub-title">
                                            <i class="fa fa-info-circle"></i>规则：
                                        </div>
                                        <div class="doc-text">
                                            <ul>
                                                <li>默认<b class="status-red">无</b></li>
                                            </ul>
                                        </div>
                                    </div>

                                    <div class="doc-area">
                                        <div class="doc-sub-title">
                                            <i class="fa fa-info-circle"></i>配置方式： <a
                                                href="{{getHelpLink('set-by-lua')}}"
                                                class="fa fa-hand-o-right">点此查看配置文档</a>
                                        </div>
                                    </div>
                                </div>
                                <div ng-show="showHelp('add-header')">
                                    <div class="doc-area">
                                        <h4 class="doc-sub-title"><i class="fa fa-info-circle"></i>配置解释:</h4>
                                        <div class="doc-text">在请求中新增Header键值对，比如新增跨域Header。</div>
                                    </div>

                                    <div class="doc-area">
                                        <div class="doc-sub-title">
                                            <i class="fa fa-info-circle"></i>规则：
                                        </div>
                                        <div class="doc-text">
                                            <ul>
                                                <li>默认<b class="status-red">无</b></li>
                                                <li>
                                                    通常用于解决跨域问题. 如：add_header 'Access-Control-Allow-Origin'
                                                </li>
                                            </ul>

                                        </div>
                                    </div>

                                    <div class="doc-area">
                                        <div class="doc-sub-title">
                                            <i class="fa fa-info-circle"></i>配置方式： <a
                                                href="{{getHelpLink('add-header')}}"
                                                class="fa fa-hand-o-right">点此查看配置文档</a>
                                        </div>
                                    </div>
                                </div>
                                <div ng-show="showHelp('hide-header')">
                                    <div class="doc-area">
                                        <h4 class="doc-sub-title"><i class="fa fa-info-circle"></i>配置解释:</h4>
                                        <div class="doc-text">隐藏Header中的某个键值对</div>
                                    </div>

                                    <div class="doc-area">
                                        <div class="doc-sub-title">
                                            <i class="fa fa-info-circle"></i>规则：
                                        </div>
                                        <div class="doc-text">
                                            <ul>
                                                <li>默认<b class="status-red">无</b></li>
                                            </ul>
                                        </div>
                                    </div>

                                    <div class="doc-area">
                                        <div class="doc-sub-title">
                                            <i class="fa fa-info-circle"></i>配置方式： <a
                                                href="{{getHelpLink('hide-header')}}"
                                                class="fa fa-hand-o-right">点此查看配置文档</a>
                                        </div>
                                    </div>
                                </div>
                                <div ng-show="showHelp('socket-io-enabled')">
                                    <div class="doc-area">
                                        <h4 class="doc-sub-title"><i class="fa fa-info-circle"></i>配置解释:</h4>
                                        <div class="doc-text">开启当前Group的Websocket协议</div>
                                    </div>

                                    <div class="doc-area">
                                        <div class="doc-sub-title">
                                            <i class="fa fa-info-circle"></i>规则：
                                        </div>
                                        <div class="doc-text">
                                            <ul>
                                                <li>默认<b class="status-red">关闭</b></li>
                                            </ul>
                                        </div>
                                    </div>

                                    <div class="doc-area">
                                        <div class="doc-sub-title">
                                            <i class="fa fa-info-circle"></i>配置方式： <a
                                                href="{{getHelpLink('socket-io-enabled')}}"
                                                class="fa fa-hand-o-right">点此查看配置文档</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-info" data-dismiss="modal">关闭
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="container-fluid " id="foot-area" ng-app="footApp" ng-controller="footController">
        <div class="container pull-left">
            &copy;2016 Framework, ctrip.com, all rights reserved; Support:<a
                href="mailto:slb@test.com?subject=SLB%b2%fa%c6%b7%d7%c9%d1%af&body=%c7%eb%cc%ed%bc%d3%d7%c9%d1%af%ce%ca%cc%e2%c1%d0%b1%ed, %b5%b1%c7%b0%d2%b3%c3%e6%3a: {{getFullUrl()}}">框架研发部
            SLB Team</a>
        </div>
    </div>
</section>
<div class="modal fade" id="questionModal" role="dialog" ng-app="questionModalApp" ng-controller="questionModalCtrl">
    <div class="modal-dialog">         <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">{{resource.languageApp.languageController.feedback}}</h4></div>
            <div class="modal-body">
                <div class="tips warning-important"></div>
                <div class="form-group">
                    <div class=""><i class="fa fa-lightbulb-o" style="font-size: 20px"></i> <span class="op-bar">{{resource.questionModal.token1}}</span>
                    </div>
                    <div class="system-padding-top"><textarea cols="2" rows="10" style="width: 100%"

                                                              id="comment-text"
                                                              placeholder="{{resource.questionModal.token2}}"></textarea>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-info" id="submmit-question" data-dismiss="modal">
                    {{resource.userHome.html.modal.msg1}}
                </button>
                <button type="button" class="btn btn-warning deny-operator" data-dismiss="modal">
                    {{resource.userHome.html.modal.msg2}}
                </button>
            </div>
        </div>
        <input type="hidden" value="" class="status-hidden"/> <input type="hidden" value="" class="op-hidden"/> <input
                type="hidden" value="" class="ip-hidden"/></div>
</div>
</body>
<script src="/static/lib/sui/sui.min.js"></script>
<link href="/static/lib/velonic-admin/assets/sweet-alert/sweet-alert.min.css" rel="stylesheet">
<script src="/static/lib/velonic-admin/assets/sweet-alert/sweet-alert.min.js"></script>
<script src="/static/lib/angular/angular-cookies.js"></script>
<script src="/static/js/http-auth-interceptor.js"></script>
<script src="/static/lib/angular/angular-sanitize.js"></script>
<script src="/static/lib/bootstrap-notify/bootstrap-notify.min.js"></script>
<script src="/static/lib/angular-autocomplete/angucomplete-alt.min.js"></script>
<link rel="stylesheet" href="/static/lib/angular-autocomplete/angucomplete-alt.css">
<script src="/static/lib/angular-ui-bootstrap/ui-bootstrap-tpls-2.0.0.js"></script>
<script src="/static/lib/bootstrap-ui-datetime-picker/datetime-picker.js"></script>
<script src="/static/lib/jquery/jquery-dateFormat.js"></script>

<script src="/static/lib/encoder/gbk.js"></script>
<script src="/static/js/global.js"></script>
<script src="/static/js/group-rule.js"></script>
</html>