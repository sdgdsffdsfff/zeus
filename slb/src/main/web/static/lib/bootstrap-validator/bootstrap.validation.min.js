!function(){var n=function(n,t){this.options=t;this.$el=$(n);this.$div=$('<div class="validation-group"><\/div>');this.$div.width(this.$el.css("width"));this.$result=null;this.$timeoutId=0;this.init()},t;n.LOCALES=[];n.LOCALES["en-US"]={requiredMessageFormatter:function(){return"This is required!"},integerMessageFormatter:function(){return"Integer only!"},numberMessageFormatter:function(){return"Number only!"},ipMessageFormatter:function(){return"Invalid IP address!"},emailMessageFormatter:function(){return"Invalid email address!"},charMessageFormatter:function(){return"Character only!"},urlMessageFormatter:function(){return"Invalid URL address!"},dateMessageFormatter:function(){return"Invalid data format (yyyy-MM-dd)!"}};n.LOCALES["zh-CN"]={requiredMessageFormatter:function(){return"这是必填项！"},integerMessageFormatter:function(){return"请输入整数！"},numberMessageFormatter:function(){return"请输入数字！"},ipMessageFormatter:function(){return"请输入正确的 IP 地址！"},emailMessageFormatter:function(){return"请输入正确的邮箱地址！"},charMessageFormatter:function(){return"请输入字符！"},urlMessageFormatter:function(){return"请输入正确的网址！"},dateMessageFormatter:function(){return"格式错误 yyyy-MM-dd！"}};n.DEFAULTS={validationTimeOut:500,placement:"right",rules:{required:function(t){return $.trim(t)!=""?"":n.DEFAULTS.requiredMessageFormatter()},integer:function(t){return $.trim(t)==""||/^[0-9]\d*$/.test(t)?"":n.DEFAULTS.integerMessageFormatter()},number:function(t){return $.trim(t)==""||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)?"":n.DEFAULTS.numberMessageFormatter()},ip:function(t){return $.trim(t)==""||/^(1[0-9]{2}|2[0-5]{2}|[1-9][0-9]|[1-9])(\.(1[0-9]{2}|2[0-5]{2}|[1-9][0-9]|[0-9])){2}\.(1[0-9]{2}|2[0-5]{2}|[1-9][0-9]|[1-9])$/.test(t)?"":n.DEFAULTS.ipMessageFormatter()},email:function(t){return $.trim(t)==""||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(t)?"":n.DEFAULTS.emailMessageFormatter()},char:function(t){return $.trim(t)==""||/^[A-Za-z0-9_]*$/.test(t)?"":n.DEFAULTS.charMessageFormatter()},url:function(t){return $.trim(t)==""||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t)?"":n.DEFAULTS.urlMessageFormatter()},date:function(t){return $.trim(t)==""||/Invalid|NaN/.test(new Date(t).toString())?"":n.DEFAULTS.dateMessageFormatter()}}};$.extend(n.DEFAULTS,n.LOCALES["zh-CN"]);n.prototype.init=function(){this.$el.after(this.$div);this.$div.append(this.$el);this.setValidator()};n.prototype.reset=function(t){var u,i,r;this.options=$.extend({},n.DEFAULTS,this.$el.data(),typeof t=="object"&&t);u=this.$el.val();this.options.hasOwnProperty("value")&&(i=this.options.value,(i!==undefined&&i!==null||typeof i=="string")&&(u=i));this.$el.val(u);r=this.$el.next();r!=undefined&&r!=null&&r.popover("hide");this.$el.nextAll().remove();this.$el.removeClass("validation-success");this.$el.removeClass("validation-fail");this.$result=null};n.prototype.validate=function(n){return this.$result==null&&this.validateRules(),(n==undefined||n)&&this.setResult(this.$result),this.$result.success};n.prototype.setValidator=function(){var n=this;n.$el.bind("input propertychange",function(){clearTimeout(n.$timeoutId);n.$timeoutId=setTimeout(function(){n.$result=null;n.validate(!0)},n.options.validationTimeOut)})};n.prototype.validateRules=function(){var t=this,r=t.$el.val(),n={isValidated:!1},u=t.options.validator,i;return typeof u!="string"?n:(i=u.split(" "),i&&i.length>0&&$.each(i,function(i,u){var f=t.options.rules[u];return((f===undefined||f===null||typeof f!="function")&&(f=window[u]),f===undefined||f===null||typeof f!="function")?!0:(n.errorMsg=f(r),n.success=n.errorMsg==="",n.isValidated=!0,n.success)}),n.isValidated&&$(t).trigger("validated.bs.input",[n.success,r]),t.$result=n,n)};n.prototype.setResult=function(n){var t,i;return n?(t=this.$el.next(),t.popover("hide"),this.$el.nextAll().remove(),this.$el.removeClass("validation-success"),this.$el.removeClass("validation-fail"),!n.isValidated)?!0:(n.success?(i="validation-success",t=$('<span class="glyphicon glyphicon-ok validation-feedback" aria-hidden="true"><\/span>')):(i="validation-fail",t=$('<span class="glyphicon glyphicon-remove validation-feedback" aria-hidden="true" data-container="body" data-toggle="popover" data-placement="'+this.options.placement+'" data-content="'+n.errorMsg+'"><\/span>')),this.$el.addClass(i),this.$el.after(t),n.success||t.popover("show"),n.success):(n=this.validateRules(),this.setResult(n))};n.prototype.setLocale=function(n){$.extend($.fn.bootstrapValidation.defaults,$.fn.bootstrapValidation.locales[n])};t=["destroy","setLocale","reset","validate"];$.fn.bootstrapValidation=function(i){var r,u=Array.prototype.slice.call(arguments,1);return this.each(function(){var e=$(this),f=e.data("bootstrap.validation"),o=$.extend({},n.DEFAULTS,e.data(),typeof i=="object"&&i);if(typeof i=="string"){if($.inArray(i,t)<0)throw new Error("Unknown method: "+i);if(!f)return;r=f[i].apply(f,u);i==="destroy"&&e.removeData("bootstrap.validation")}f||e.data("bootstrap.validation",f=new n(this,o))}),typeof r=="undefined"?this:r};$.fn.bootstrapValidation.Constructor=n;$.fn.bootstrapValidation.defaults=n.DEFAULTS;$.fn.bootstrapValidation.locales=n.LOCALES;$(function(){$('[data-validator-type="validation"]').bootstrapValidation()})}(jQuery);